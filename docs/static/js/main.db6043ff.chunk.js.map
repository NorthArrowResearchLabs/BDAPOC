{"version":3,"sources":["graphql/queries.js","components/BDAMobile/misc/Structures/StructureListItem.jsx","components/misc/Placeholder.jsx","components/BDAMobile/misc/Structures/index.js","components/BDAMobile/misc/Structures/StructureList.jsx","redux/reducers.js","redux/withRedux.js","components/BDAMobile/Topbar.jsx","components/BDAMobile/questions/Note.jsx","components/BDAMobile/questions/RadioQuestion.jsx","components/BDAMobile/questions/TextField.jsx","components/BDAMobile/questions/DropDownQuestion.jsx","components/BDAMobile/questions/DatePicker.jsx","components/BDAMobile/sections/DesignInfo.jsx","components/BDAMobile/questions/LocationPicker.jsx","config.js","components/BDAMobile/sections/PositionAttrib.jsx","components/BDAMobile/sections/StructureDesign.jsx","components/BDAMobile/views/StructureViewer.jsx","components/BDAMobile/sections/TheFormComplex.jsx","components/BDAMobile/questions/CardListPicker.jsx","components/BDAMobile/sections/ExistingFeatures.jsx","components/BDAMobile/questions/PercentSliders/Track.jsx","components/BDAMobile/questions/PercentSliders/Tick.jsx","components/BDAMobile/questions/PercentSliders/Handle.jsx","components/BDAMobile/questions/PercentSliders/PercentSliders.jsx","components/BDAMobile/questions/Checkboxes.jsx","components/BDAMobile/questions/FloodBehavior.jsx","components/BDAMobile/sections/HydraulicResponses.jsx","components/BDAMobile/sections/GeomorphicResponses.jsx","components/BDAMobile/views/TheBDAForm.jsx","components/BDAMobile/misc/AddButton.jsx","components/BDAMobile/misc/RefreshStockButton.jsx","components/BDAMobile/views/Homepage.jsx","registerServiceWorker.js","redux/store.js","index.js"],"names":["QueryListStructures","gql","_templateObject","MutationCreateStructure","_templateObject2","_templateObject3","MutationDeleteStructure","_templateObject4","_templateObject5","withStructuresList","graphql","options","_ref","fetchPolicy","pollInterval","props","debug","console","log","structures","data","listBDAPOCS","items","withCreateStructure","update","proxy","_ref2","createBDAPOC","query","readQuery","Object","toConsumableArray","filter","struct","id","concat","writeQuery","_ref3","ownProps","mutate","createStructure","structure","variables","input","objectSpread","lastEdit","Math","round","Date","getTime","optimisticResponse","__typename","uuid","withDeleteStructure","_ref4","deleteBDAPOC","_ref5","deleteStructure","compose","withProps","localOnly","indexOf","color","withStateHandlers","sidebarVisible","deleteConfirmVisible","itemClick","e","openMenu","closeMenu","stopPropagation","deleteClick","deleteCancel","deleteConfirm","state","_ref$structure","body","lastedit","react_default","a","createElement","Sidebar","Pushable","as","List","Item","animation","Menu","icon","inverted","direction","width","visible","onClick","Icon","name","Pusher","Swipeable_default","onSwipedLeft","onSwipedRight","Segment","style","minHeight","basic","Label","corner","Header","fields","structureID","value","getHeader","JSON","parse","observationDate","designerName","moment","fontSize","format","getMeta","Confirm","header","open","onCancel","onConfirm","size","Placeholder","pure","autoHeight","autoWidth","aspect","height","className","json","description","title","showSize","finalHeight","finalWidth","minSize","min","iconStyle","widthText","heightText","maxWidth","classes","split","join","Image","toString","stringify","defaultProps","SizerWrapper","objectWithoutProperties","es","Placeholder_Placeholder","assign","displayName","StructureList","keys","length","misc_Placeholder","divided","selection","map","idx","Structures_StructureListItem","key","actionConsts","actions","guid","fieldName","fieldSection","type","fieldValue","fieldNote","structureTemplate","uploaded","uploading","uploadFailed","defaultState","editing","combineReducers","newState","arguments","undefined","action","defineProperty","currField","_","cloneDeep","section","note","oldVal","newVal","newNote","edit","withReduxField","connect","formGuid","lifecycle","componentDidMount","_this$props","this","dispatch","present","withHandlers","setValue","setNote","mapProps","withReduxHome","backToHome","viewStructure","_ref6","Topbar","borderRadius","position","Button","content","Auth","signOut","window","location","replace","Note","setOpen","setTempVal","label","placeholder","modalTitle","modalDescription","Note_Trigger","Form","TextArea","rows","defaultValue","onChange","modalTtle","Trigger","theStr","len","Message","substring","tempVal","toggleOpen","branch","renderComponent","Content","Description","find","op","Extra","hasNote","notePrompt","rVal","Field","Radio","defaultChecked","BDAMobile_questions_Note","Input","newval","questions_DropDownQuestion","Array","isArray","val","text","printValues","multiple","otherProps","newOptions","optionvals","extraVals","v","dropdownProps","Dropdown","withFormWrapper","WrappedComponent","InnerComponent","selectorType","iconPosition","popupPosition","closable","Present","DateTimePicker","DateInput","DateTimeInput","DesignInfo","TimeInput","_ref7","DatesRangeInput","questions_TextField","fluid","questions_RadioQuestion","onViewportChange","viewport","latitude","longitude","zoom","_React$Component","Geolocation","_getPrototypeOf2","_this","classCallCheck","_len","args","_key","possibleConstructorReturn","getPrototypeOf","call","apply","loading","message","inherits","createClass","_componentWillMount","asyncToGenerator","regenerator_default","mark","_callee","geolocation","_this2","wrap","_context","prev","next","navigator","Promise","resolve","error","getCurrentPosition","_ref3$coords","coords","sent","setState","stop","React","Component","mapboxApiAccessToken","Grid","columns","Row","Column","Dimmer","active","Loader","esm","mapStyle","offsetLeft","offsetTop","textShadow","positive","negative","mapBoxToken","process","REACT_APP_MAPBOXTOKEN","config","env","GraphQLEndpoint","region","userPoolId","userPoolWebClientId","mandatorySignIn","cookieStorage","domain","path","expires","secure","PositionAttrib","questions_LocationPicker","StructureDesign","search","allowAdditions","StructureViewer","BDAMobile_Topbar","marginTop","sections_DesignInfo","Divider","sections_PositionAttrib","sections_StructureDesign","withState","initProps","confirmStep","steps","ConfirmMenu","newSteps","stepHeaders","complete","Step","link","activeStep","completed","setActiveStep","setSidebarVisible","Title","TopbarEditing","onHide","handleSidebarHide","vertical","Group","attached","ordered","Dimmable","blurring","Responsive","display","fixed","CardListListItem","image","subText","src","CardListPickerItem","selected","toggleValue","Card","modalOpen","toggleModal","setModal","newValues","slice","index","push","splice","CardListPicker_CardListListItem","CardListPicker_CardListPickerItem","Modal","closeIcon","onClose","centered","itemsPerRow","minWidth","Actions","ExistingFeatures","BDAMobile_questions_CardListPicker","allowMultiple","Track","trackNum","step","source","target","getTrackProps","dynamicStyle","left","percent","Tick","tick","count","marginLeft","d","Handle","disabled","_ref$domain","slicedToArray","max","_ref$handle","handle","getHandleProps","role","aria-valuemin","aria-valuemax","aria-valuenow","onMouseDown","onTouchStart","sliderStyle","CustomSlider","onUpdate","react_compound_slider_es","mode","rootStyle","values","getRailProps","handles","PercentSliders_Handle","tracks","PercentSliders_Track","tickVals","_ref8","ticks","PercentSliders_Tick","_ref13","_ref12","_ref14","sliderValues","reduce","acc","_ref9","_ref10","_ref11","newLevel","slKey","x","newLimiterThis","newSliderValues","forEach","objKey","mustAddUp","PercentSliders_CustomSlider","Checkbox","GRADIENT","LocationGroup","loc","setLoc","toggle","bText","newLoc","BDAMobile_questions_FloodBehavior","behavior","setBehavior","_ref3$value","_ref$value","FloodBehavior_LocationGroup","HydraulicResponses","questions_PercentSliders_PercentSliders","Checkboxes","GeomorphicResponses","hasNotes","TheBDAForm","BDAMobile_sections_TheFormComplex","circular","preventDefault","require","Tab","panes","menuItem","render","Pane","Structures","misc_AddButton","misc_RefreshStockButton","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","reducers","persistState","applyMiddleware","thunkMiddleware","Amplify","configure","deferredPrompt","client","AWSAppSyncClient","url","auth","jwtToken","_jwtToken","currentSession","abrupt","getAccessToken","getJwtToken","complexObjectsCredentials","currentCredentials","AppWithAuth","withAuthenticator","Homepage","addToHomeScreen","document","querySelector","prompt","userChoice","choiceResult","outcome","ReactDOM","react_redux_es","react_apollo_browser_umd","aws_appsync_react_lib","getElementById","URL","origin","addEventListener","fetch","response","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","a2hsBtn","showAddToHomeScreen"],"mappings":"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","file":"static/js/main.db6043ff.chunk.js","sourcesContent":["import gql from 'graphql-tag'\nimport { graphql } from 'react-apollo'\nimport { v4 as uuid } from 'uuid'\n\nconst QueryListStructures = gql`\n  query listBDAPOCS {\n    listBDAPOCS {\n      items {\n        id\n        body\n        lastEdit\n      }\n    }\n  }\n`\n\nconst QueryGetStructure = gql`\n  query getBDAPOC($id: ID!) {\n    createBDAPOC(input: $id) {\n      id\n      body\n      lastEdit\n    }\n  }\n`\n\nconst MutationCreateStructure = gql`\n  mutation createBDAPOC($input: CreateBDAPOCInput!) {\n    createBDAPOC(input: $input) {\n      id\n      body\n      lastEdit\n    }\n  }\n`\n\nconst MutationUpdateStructure = gql`\n  mutation updateBDAPOC($input: UpdateBDAPOCInput!) {\n    createBDAPOC(input: $input) {\n      id\n      body\n      lastEdit\n    }\n  }\n`\n\nconst MutationDeleteStructure = gql`\n  mutation deleteBDAPOC($input: DeleteBDAPOCInput!) {\n    deleteBDAPOC(input: $input) {\n      id\n      body\n      lastEdit\n    }\n  }\n`\n\nexport const withStructuresList = graphql(QueryListStructures, {\n  options: ({ pollInterval }) => ({\n    fetchPolicy: 'cache-and-network',\n    pollInterval: pollInterval || 5000\n  }),\n  props: props => ({\n    debug: console.log('this query', props),\n    structures: props.data.listBDAPOCS ? props.data.listBDAPOCS.items : []\n  })\n})\n\nexport const withCreateStructure = graphql(\n  MutationCreateStructure,\n  {\n    options: {\n      update: (proxy, { data: { createBDAPOC } }) => {\n        const query = QueryListStructures\n        const data = proxy.readQuery({ query })\n        data.listBDAPOCS.items = [\n          ...data.listBDAPOCS.items.filter(struct => !createBDAPOC || struct.id !== createBDAPOC.id),\n          createBDAPOC\n        ]\n        console.log('update', { data, createBDAPOC })\n        proxy.writeQuery({ query, data })\n      }\n    },\n    props: ({ ownProps, mutate }) => ({\n      createStructure: structure => mutate({\n        variables: {\n          input: {\n            ...structure,\n            lastEdit: Math.round(new Date().getTime() / 1000)\n          }\n        },\n        optimisticResponse: () => ({\n          __typename: 'Mutation',\n          createBDAPOC: {\n            ...structure,\n            id: `pending${uuid()}`,\n            lastEdit: Math.round(new Date().getTime() / 1000),\n            __typename: 'BDAPOC'\n          }\n        })\n      })\n    })\n  }\n)\n\nexport const withDeleteStructure = graphql(\n  MutationDeleteStructure,\n  {\n    options: {\n      update: (proxy, { data: { deleteBDAPOC } }) => {\n        const query = QueryListStructures\n        const data = proxy.readQuery({ query })\n        data.listBDAPOCS.items = data.listBDAPOCS.items\n          .filter(struct => !deleteBDAPOC || struct.id !== deleteBDAPOC.id)\n        proxy.writeQuery({ query, data })\n      }\n    },\n    props: ({ ownProps, mutate }) => ({\n      deleteStructure: structure => mutate({\n        variables: { input: structure },\n        optimisticResponse: () => ({\n          __typename: 'Mutation',\n          deleteBDAPOC: {\n            ...structure,\n            __typename: 'BDAPOC'\n          }\n        })\n      })\n    })\n  }\n)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment'\nimport Swipeable from 'react-swipeable'\nimport { withDeleteStructure } from '../../../../graphql/queries'\nimport { List, Sidebar, Menu, Icon, Segment, Header, Confirm, Label } from 'semantic-ui-react'\nimport { compose, withStateHandlers, withProps } from 'recompose'\n\nconst StructureListItem = ({\n  structure: { id, lastedit, body }, color,\n  sidebarVisible, openMenu, closeMenu, itemClick, localOnly,\n  deleteConfirmVisible, deleteClick, deleteCancel, deleteConfirm\n}) => (\n  <Sidebar.Pushable as={List.Item}>\n    <Sidebar\n      animation='push'\n      as={Menu}\n      icon='labeled'\n      inverted\n      direction='right'\n      color='red'\n      width='thin'\n      visible={sidebarVisible}\n    >\n      <Menu.Item onClick={deleteClick} >\n        <Icon name='trash' /> Delete\n      </Menu.Item>\n    </Sidebar>\n    <Sidebar.Pusher>\n      <Swipeable onSwipedLeft={openMenu} onSwipedRight={closeMenu}>\n        <Segment style={{ minHeight: 85 }} onClick={itemClick} basic >\n          { localOnly === true ? <Label icon='refresh' as='a' color='yellow' corner /> : null}\n          <Header inverted onClick={() => {}}>\n            {getHeader(JSON.parse(body))}\n          </Header>\n          {getMeta(JSON.parse(body))}\n          {console.log(localOnly)}\n        </Segment>\n      </Swipeable>\n    </Sidebar.Pusher>\n    <Confirm\n      header='Delete Structure?'\n      open={deleteConfirmVisible}\n      onCancel={deleteCancel}\n      onConfirm={deleteConfirm}\n      size='large'\n    />\n  </Sidebar.Pushable>\n)\n\nStructureListItem.propTypes = {\n  structure: PropTypes.object,\n  color: PropTypes.string,\n  localOnly: PropTypes.bool,\n  // recompose\n  sidebarVisible: PropTypes.bool,\n  deleteConfirmVisible: PropTypes.bool,\n  openMenu: PropTypes.func,\n  itemClick: PropTypes.func,\n  closeMenu: PropTypes.func,\n  deleteClick: PropTypes.func,\n  deleteCancel: PropTypes.func,\n  deleteConfirm: PropTypes.func\n}\nexport default compose(\n  withProps(({ structure: { id } }) => {\n    const localOnly = id.indexOf('pending') === 0\n    let color = null\n    if (localOnly === true) color = 'yellow'\n    // else if (!uploading && !uploaded && uploadFailed) color = 'red'\n    return { color, localOnly }\n  }),\n  withDeleteStructure,\n  withStateHandlers(\n    {\n      sidebarVisible: false,\n      deleteConfirmVisible: false\n    },\n    {\n      itemClick: ({ sidebarVisible }) => (e) => {\n        console.log('click', e, sidebarVisible)\n        if (sidebarVisible === true) return { sidebarVisible: false }\n        else {\n          console.log('NAVIGATE')\n        }\n      },\n      openMenu: () => () => ({ sidebarVisible: true }),\n      closeMenu: () => (e) => {\n        e.stopPropagation() // Make sure we don't accidentally trigger  click\n        return { sidebarVisible: false }\n      },\n      deleteClick: () => () => ({ deleteConfirmVisible: true }),\n      deleteCancel: () => () => ({ deleteConfirmVisible: false }),\n      deleteConfirm: (state, { deleteStructure, structure }) => () => {\n        deleteStructure({ id: structure.id })\n        return { deleteConfirmVisible: false, sidebarVisible: false }\n      }\n    }\n  )\n)(StructureListItem)\n\n// <Label.Group className='projListDownloadLabels'>\n//   {/* { !uploaded && !uploadFailed && !uploading ? <Popup header='Not Uploaded' content='This structure has not been Uploaded'\n//     trigger={<Label icon='upload' as='a' color='yellow' content='Click to sync' onClick={() => uploadStructure(guid)} />}\n//   /> : null } */}\n//   { uploaded ? <Popup header='Uploaded!' content='This structure has been Uploaded'\n//     trigger={<Label color='green' icon='check' content='Synced' />}\n//   /> : null }\n//   { !uploading && !uploaded && uploadFailed ? <Popup header='Upload Error' content='Try uploading again!'\n//     trigger={<Label color='red' icon='bug' as='a' content='Sync error' onClick={() => { }} />}\n//   /> : null }\n//   { uploading ? <Popup header='Uploading...' content='Fingers crossed!'\n//     trigger={<Label icon={{ name: 'circle notch', loading: true }} content='Uploading...' />}\n//   /> : null }\n// </Label.Group>\n\n/**\n * Heler function to make the header nice\n */\nfunction getHeader (fields) {\n  try {\n    return fields.structureID.value\n  }\n  catch (e) {\n    return <span style={{ color: 'red' }} >NO NAME</span>\n  }\n}\n\n/**\n * Helper function to style the meta fields and date and stuff\n */\nfunction getMeta (fields) {\n  let observationDate\n  let designerName\n  try {\n    observationDate = moment(new Date(fields.observationDate.value))\n  }\n  catch (e) { }\n  try {\n    designerName = fields.designerName.value\n  }\n  catch (e) { }\n\n  return <div>\n    <div>{designerName ? <span>Designed by <strong>{designerName}</strong> </span> : null}</div>\n    <div style={{ fontSize: '0.9rem', color: '#888' }}>{observationDate ? <span> on <strong>{observationDate.format('dddd, MMMM Do') }</strong> </span> : null}</div>\n  </div>\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { AutoSizer } from 'react-virtualized'\nimport { Icon, Header, Image } from 'semantic-ui-react'\nimport { pure } from 'recompose'\nimport './Placeholder.css'\n\nconst Placeholder = pure(({\n  autoHeight, autoWidth, aspect, width, height,\n  className, json, description, title, icon, showSize\n}) => {\n  let finalHeight = height || autoHeight\n  let finalWidth = width || autoWidth\n\n  if (aspect) {\n    finalHeight = aspect * finalWidth\n  }\n\n  const minSize = Math.min(finalHeight, finalWidth)\n  const minIconFontSize = minSize * 6\n  const iconStyle = {\n    fontSize: `${minIconFontSize}%`\n    // marginTop: `${(height - minIconFontSize) / 2}px`\n  }\n\n  const widthText = `${finalWidth}px`\n  const heightText = `${finalHeight}px`\n  const style = {\n    maxWidth: widthText,\n    width: widthText,\n    height: heightText\n  }\n  const classes = ['myPlaceholder'].concat(className.split(' ')).join(' ')\n  return (\n    <Image className={classes} style={style}>\n      {icon ? <Icon name={icon} style={iconStyle} /> : null}\n      <div className='centered'>\n        {title ? <Header>{title.toString()}</Header> : null}\n        {showSize ? (\n          <div className='sizeText'>\n            {`${widthText} X ${heightText}`}\n          </div>\n        ) : null}\n        {description ? <p className='description'>{description}</p> : null}\n        {json ? (\n          <div className='json'><pre><code>\n            {JSON.stringify(json, null, 2)}\n          </code></pre></div>\n        ) : null}\n      </div>\n    </Image>\n  )\n})\n\nPlaceholder.propTypes = {\n  // from the autosizer component\n  autoHeight: PropTypes.number,\n  autoWidth: PropTypes.number,\n  className: PropTypes.string,\n  // These are passed in (maybe)\n  height: PropTypes.number,\n  width: PropTypes.number,\n  aspect: PropTypes.number,\n  json: PropTypes.object,\n  description: PropTypes.string,\n  icon: PropTypes.string,\n  showSize: PropTypes.bool,\n  title: PropTypes.string,\n  // from recompose\n  size: PropTypes.object\n}\nPlaceholder.defaultProps = {\n  className: ''\n}\n\nconst SizerWrapper = ({ minHeight, ...props }) => (\n  <div style={{\n    minHeight,\n    height: minHeight ? '100%' : null\n  }}>\n    <AutoSizer>\n      {({ height, width }) => (\n        <Placeholder autoHeight={height} autoWidth={width} {...props} />\n      )}\n    </AutoSizer>\n  </div>\n)\nSizerWrapper.displayName = 'Placeholder'\nexport default SizerWrapper\n","import StructureList from './StructureList'\n\nexport default StructureList\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { List } from 'semantic-ui-react'\nimport StructureListItem from './StructureListItem'\nimport Placeholder from '../../../misc/Placeholder'\n\nconst StructureList = ({ structures }) => (\n  <div className='structureList'>\n    { !structures || Object.keys(structures).length === 0\n      ? <Placeholder minHeight={400} icon='list' title='No Structures Found' />\n      : null }\n    <List divided selection>\n      {structures.map((structure, idx) => (\n        <StructureListItem structure={structure} key={`structItem${structure.id}`} />\n      ))}\n    </List>\n  </div>\n)\n\nStructureList.propTypes = {\n  structures: PropTypes.array\n}\n\nexport default StructureList\n","import _ from 'lodash'\nimport { combineReducers } from 'redux'\nimport uuidv1 from 'uuid/v1'\nexport const actionConsts = {\n  INIT_FIELD: 'INIT_FIELD',\n  CHANGE_FIELD_VALUE: 'CHANGE_FIELD_VALUE',\n  CREATE_STRUCTURE: 'CREATE_STRUCTURE',\n  EDIT_STRUCTURE: 'EDIT_STRUCTURE',\n  VIEW_STRUCTURE: 'VIEW_STRUCTURE',\n  BACK_TO_HOME: 'BACK_TO_HOME',\n  DELETE_STRUCTURE: 'DELETE_STRUCTURE',\n  UPLOAD_STRUCTURE: 'UPLOAD_FORM'\n}\n\n/**\n * Return a random chance of something happening happening\n * @param {*} prob (in percent: 0-100)\n */\nconst randomFail = (prob) => {\n  const rand = Math.random()\n  return rand > parseFloat(prob) / 100\n}\n\nconst getRandomArbitrary = (min, max) => Math.random() * (max - min) + min\n\n/**\n * Actions are actually just really simple objects\n */\nexport const actions = {\n  initializeField: (guid, fieldName, fieldSection) => ({ type: actionConsts.INIT_FIELD, guid, fieldName, fieldSection }),\n  changeFieldValue: (guid, fieldName, fieldValue, fieldNote) => ({\n    type: actionConsts.CHANGE_FIELD_VALUE,\n    guid,\n    fieldName,\n    fieldValue,\n    fieldNote\n  }),\n  backToHome: () => ({ type: actionConsts.BACK_TO_HOME }),\n\n  createStructure: () => {\n    const guid = uuidv1()\n    return (dispatch) => {\n      dispatch({ type: actionConsts.CREATE_STRUCTURE, guid })\n      dispatch({ type: actionConsts.EDIT_STRUCTURE, guid })\n    }\n  },\n  deleteStructure: (guid) => ({ type: actionConsts.DELETE_STRUCTURE, guid }),\n  editStructure: (guid) => ({ type: actionConsts.EDIT_STRUCTURE, guid }),\n  viewStructure: (guid) => ({ type: actionConsts.VIEW_STRUCTURE, guid }),\n  uploadStructure: (guid) => {\n    const type = actionConsts.UPLOAD_STRUCTURE\n    return (dispatch) => {\n      dispatch({ type, guid, uploading: true, uploaded: false, uploadFailed: false })\n      setTimeout(() => {\n        // Randomly fail and ask for retry\n        if (randomFail(20)) dispatch({ type, guid, uploading: false, uploaded: true, uploadFailed: false })\n        else dispatch({ type, guid, uploading: false, uploaded: false, uploadFailed: true })\n      }, getRandomArbitrary(1000, 4000)) // between 3 and 10 seconds simulates a bad network connection\n    }\n  }\n}\n\n// Template for new structure form object\nconst structureTemplate = {\n  uploaded: false,\n  uploading: false,\n  uploadFailed: false,\n  fields: {\n    // fieldname: {\n    //   value: null,\n    //   section: null\n    // }\n  }\n}\n\nconst defaultState = {\n  // editing: '3b99e3e0-7598-11e8-90be-95472fb3ecbd',\n  // structures: {\n  //   '3b99e3e0-7598-11e8-90be-95472fb3ecbd': {\n  //     uploaded: false,\n  //     uploading: false,\n  //     uploadFailed: false,\n  //     fields: [\n  //       {\n  //         value: 'SOMETHING',\n  //         section: 1\n  //       }\n  //     ]\n  //   }\n  // }\n  editing: null,\n  structures: {\n\n  }\n}\n\n/**\n * Our reducers are super simple too\n * @param {*} state\n * @param {*} action\n */\nconst structures = (state = defaultState.structures, action) => {\n  const { guid, uploading, uploaded, uploadFailed, fieldName, fieldValue, fieldSection, fieldNote } = action\n  let newState\n  switch (action.type) {\n    case actionConsts.CREATE_STRUCTURE:\n      // Add a new object and set what we're currently editing\n      return {\n        ...state,\n        [guid]: structureTemplate\n      }\n\n    case actionConsts.INIT_FIELD:\n      newState = _.cloneDeep(state)\n      // console.log('HERE I AM', { action, state })\n      const currField = newState[guid].fields[fieldName] || { value: null }\n\n      newState[guid].fields[fieldName] = {\n        value: currField.value,\n        section: fieldSection,\n        note: currField.note\n      }\n      return newState\n\n    case actionConsts.CHANGE_FIELD_VALUE:\n      const oldVal = state[guid].fields[fieldName]\n      newState = _.cloneDeep(state)\n      const newVal = fieldValue || oldVal.value\n      const newNote = fieldNote || oldVal.note\n      newState[guid].fields[fieldName] = {\n        ...oldVal,\n        value: newVal,\n        note: newNote\n      }\n      return newState\n\n    case actionConsts.DELETE_STRUCTURE:\n      newState = _.cloneDeep(state)\n      delete newState[guid]\n      return newState\n\n    case actionConsts.UPLOAD_STRUCTURE:\n      newState = _.cloneDeep(state)\n      newState[guid] = {\n        ...newState[guid],\n        uploading,\n        uploaded,\n        uploadFailed\n      }\n      return newState\n    default:\n      return state\n  }\n}\n\nconst editing = (state = defaultState.editing, action) => {\n  switch (action.type) {\n    case actionConsts.EDIT_STRUCTURE:\n      return {\n        guid: action.guid,\n        edit: true\n      }\n    case actionConsts.VIEW_STRUCTURE:\n      return {\n        guid: action.guid,\n        edit: false\n      }\n    case actionConsts.BACK_TO_HOME:\n      return null\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  structures,\n  editing\n})\n","import { compose, withHandlers, lifecycle, mapProps } from 'recompose'\nimport { actions } from './reducers'\nimport { connect } from 'react-redux'\n\nconst mapStateToFieldProps = (state, props) => {\n  const { editing, structures } = state\n  const { name } = props\n  let formGuid = ''\n  let currField = { value: '', note: '' }\n  try {\n    currField = structures[editing.guid].fields[name] || {}\n    formGuid = editing.guid\n  }\n  catch (e) { }\n  return {\n    formGuid,\n    value: currField.value,\n    note: currField.note\n  }\n}\n\nexport const withReduxField = compose(\n  connect(mapStateToFieldProps), // Once connect() is composed `dispatch` is prop.\n  // ONCE we mount the control we should initialize it\n  lifecycle({\n    componentDidMount () {\n      const { dispatch, formGuid, section, name, present } = this.props\n      if (!present) {\n        console.log('componentDidMount', formGuid, section, name)\n        dispatch(actions.initializeField(formGuid, name, section))\n      }\n    }\n  }),\n  withHandlers({\n    setValue: ({ dispatch, formGuid, name }) => (newVal) => {\n      console.log('setValue called', formGuid, name, newVal)\n      dispatch(actions.changeFieldValue(formGuid, name, newVal))\n    },\n    setNote: ({ dispatch, formGuid, name }) => (newNote) => {\n      console.log('setNote called', formGuid, name, newNote)\n      dispatch(actions.changeFieldValue(formGuid, name, null, newNote))\n    }\n  }),\n  // Make sure dispatch and formGuid never make it to the individual components\n  mapProps(({ dispatch, formGuid, ...otherProps }) => otherProps)\n)\n\nconst mapStateToHomeProps = ({ editing }, props) => ({\n  editing\n})\n\n/**\n * HOMEPAGE state\n */\n\nexport const withReduxHome = compose(\n  connect(mapStateToHomeProps), // Once connect() is composed `dispatch` is prop.\n  withHandlers({\n    backToHome: ({ dispatch }) => (guid) => {\n      console.log('backToHome called', guid)\n      dispatch(actions.backToHome(guid))\n    },\n    viewStructure: ({ dispatch }) => (guid) => {\n      console.log('viewStructure called', guid)\n      dispatch(actions.viewStructure(guid))\n    }\n  })\n)\n","import React from 'react'\nimport { Auth } from 'aws-amplify'\nimport PropTypes from 'prop-types'\nimport { Menu, Icon, Button } from 'semantic-ui-react'\nimport { withReduxHome } from '../../redux/withRedux'\n\nconst Topbar = ({ editing, backToHome }) => (\n  <Menu icon inverted style={{ borderRadius: 0 }}>\n    {editing && editing.guid\n      ? <Menu.Item name='bars' onClick={() => backToHome()}>\n        <Icon name='arrow left' />\n      </Menu.Item>\n      : null\n    }\n    <Menu.Item header>Project Homepage</Menu.Item>\n    <Menu.Menu position='right'>\n      <Menu.Item>\n        <Button color='yellow' icon='lock open' inverted content='Log out' onClick={() => {\n          Auth.signOut()\n          // This is a hack to force the page to refresh\n          window.location.replace(window.location)\n        }} />\n        {/* <Icon name='rese' /> */}\n      </Menu.Item>\n    </Menu.Menu>\n  </Menu>\n)\n\nTopbar.propTypes = {\n  editing: PropTypes.object,\n  createStructure: PropTypes.func,\n  backToHome: PropTypes.func\n}\n\nexport default Topbar\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Message, TextArea, Confirm, Form, Icon, Segment } from 'semantic-ui-react'\nimport { compose, withStateHandlers } from 'recompose'\nimport './Note.css'\n\nconst Note = ({ name, value, open, setOpen, setValue, setTempVal, label, placeholder, modalTitle, modalDescription }) => (\n  <div>\n    <Trigger label={label} value={value} onClick={() => setOpen(true)} />\n    <Confirm\n      header={modalTitle}\n      open={open}\n      onCancel={() => setOpen(false)}\n      onConfirm={setValue}\n      content={(\n        <Segment basic>\n          <p>{modalDescription}</p>\n          <Form>\n            <TextArea name={name} placeholder={placeholder} rows={10} defaultValue={value} onChange={setTempVal} />\n          </Form>\n        </Segment>\n      )}\n    />\n  </div>\n\n)\n\nNote.defaultProps = {\n  name: 'NOTES',\n  label: 'Add a note...',\n  modalTtle: 'Add a note:'\n}\n\nNote.propTypes = {\n  name: PropTypes.string,\n  value: PropTypes.string,\n  open: PropTypes.bool,\n  label: PropTypes.string,\n  modalTitle: PropTypes.string,\n  placeholder: PropTypes.string,\n  modalDescription: PropTypes.string,\n  setOpen: PropTypes.func,\n  setValue: PropTypes.func,\n  setTempVal: PropTypes.func\n}\n\nconst Trigger = ({ label, value, onClick }) => (\n  <Message className='notesMessage' onClick={onClick}>\n    <Message.Header>\n      <Icon name='pencil' />{label}\n    </Message.Header>\n    {value && value.length > 0 ? (<span className='notesVal'>{getShortString(value, 66)}</span>) : ''}\n  </Message>\n)\n\nTrigger.propTypes = {\n  label: PropTypes.string,\n  value: PropTypes.string,\n  onClick: PropTypes.func\n}\n\nexport default compose(\n  withStateHandlers(\n    {\n      tempVal: '', // The value as it's changing\n      open: false\n    },\n    {\n      toggleOpen: ({ open }) => ({ open: !open }),\n      setOpen: () => (open) => ({ open }),\n      setTempVal: () => (e, { value }) => ({ tempVal: value }),\n      setValue: ({ tempVal }, { setValue }) => () => {\n        setValue(tempVal) // this goes to redux\n        return ({ open: false })\n      }\n    }\n  )\n)(Note)\n\n/**\n * Helper function to truncate a string\n */\nfunction getShortString (theStr, len) {\n  return theStr.length > len ? theStr.substring(0, len) + '...' : theStr\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Form, Radio, Header, Segment, Item } from 'semantic-ui-react'\nimport Note from './Note'\nimport { compose, branch, renderComponent } from 'recompose'\nimport { withReduxField } from '../../../redux/withRedux'\n\nexport const RadioQuestion = ({ title, name, options, value, hasNote, note, notePrompt, setValue, setNote }) => (\n  <Segment basic>\n    <Header as='h3'>{title}</Header>\n    {options.map(({ label, value: rVal }, idx) => (\n      <Form.Field key={idx}>\n        <Radio\n          label={label}\n          name={name}\n          value={rVal}\n          defaultChecked={value && rVal === value}\n          onChange={() => setValue(rVal)}\n        />\n      </Form.Field>\n    ))}\n    {!hasNote ? null\n      : <Note\n        label={notePrompt}\n        value={note}\n        setValue={setNote}\n        modalTitle={`${title}: ${notePrompt}`}\n      />}\n  </Segment>\n)\n\nRadioQuestion.propTypes = {\n  title: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.object),\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]),\n  setValue: PropTypes.func,\n\n  // Now the note stuff\n  note: PropTypes.string,\n  notePrompt: PropTypes.string,\n  hasNote: PropTypes.bool,\n  setNote: PropTypes.func\n}\n\nconst Present = ({ title, value, options, note }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        {value ? options.find(op => op.value === value).label\n          : <h4 style={{ color: 'red' }}>Not Entered</h4>}\n      </Item.Description>\n      {note ? <Item.Extra>Note: <em>{note}</em></Item.Extra> : null }\n    </Item.Content>\n  </Item>\n)\n\nPresent.propTypes = RadioQuestion.propTypes\n\nexport default compose(\n  withReduxField,\n  branch(({ present }) => !!present, renderComponent(Present))\n)(RadioQuestion)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Form, Header, Segment, Input, Item } from 'semantic-ui-react'\nimport { compose, branch, renderComponent } from 'recompose'\nimport { withReduxField } from '../../../redux/withRedux'\n\nexport const TextField = ({ label, placeholder, type, value, setValue }) => (\n  <Segment basic>\n    <Header as='h3'>{label}</Header>\n    <Form.Field>\n      <Input type={type}\n        defaultValue={value}\n        placeholder={placeholder}\n        onChange={(e, { value: newval }) => setValue(newval)} />\n    </Form.Field>\n  </Segment>\n)\n\nTextField.propTypes = {\n  label: PropTypes.string,\n  placeholder: PropTypes.string,\n  type: PropTypes.string,\n\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]),\n  setValue: PropTypes.func\n}\n\nconst Present = ({ label, value }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{label}</Item.Header>\n      <Item.Description>\n        {value || <h4 style={{ color: 'red' }}>Not Entered</h4>}\n      </Item.Description>\n    </Item.Content>\n  </Item>\n)\n\nPresent.propTypes = TextField.propTypes\n\nexport default compose(\n  withReduxField,\n  branch(({ present }) => !!present, renderComponent(Present))\n)(TextField)\n","import React from 'react'\nimport PropTypes from 'prop-types'\n// import _ from 'lodash'\nimport { Dropdown, Segment, Header, Item } from 'semantic-ui-react'\nimport Note from './Note'\nimport { withReduxField } from '../../../redux/withRedux'\nimport { compose, branch, renderComponent, mapProps } from 'recompose'\n\nconst DropDownQuestion = ({\n  title, formGuid, hasNote, dispatch, note, notePrompt, present, setValue, setNote, ...dropdownProps\n}) => (\n  <Segment basic>\n    <Header as='h3'>{title}</Header>\n    <Dropdown {...dropdownProps} onChange={(e, { value }) => setValue(value)} />\n    {!hasNote ? null\n      : <Note\n        label={notePrompt}\n        value={note}\n        setValue={setNote}\n        modalTitle={`${title}: ${notePrompt}`}\n      />}\n  </Segment>\n)\n\nDropDownQuestion.propTypes = {\n  title: PropTypes.string,\n  dropdownProps: PropTypes.object,\n\n  setValue: PropTypes.func,\n\n  // Now the note stuff\n  note: PropTypes.string,\n  notePrompt: PropTypes.string,\n  hasNote: PropTypes.bool,\n  setNote: PropTypes.func\n}\n\nconst Present = ({ title, value, options, note }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        {printValues(value, options)}\n      </Item.Description>\n      {note ? <Item.Extra>Note: <em>{note}</em></Item.Extra> : null }\n    </Item.Content>\n  </Item>\n)\nfunction printValues (value, options) {\n  if (Array.isArray(value) && value.length > 0) {\n    return (\n      <ul>\n        {\n          value.map((val, idx) => {\n            let text = val\n            try {\n              text = options.find(op => op.value === val).text\n            }\n            catch (e) {}\n            return (<li key={`item-${idx}`}>{text}</li>)\n          })\n        }\n      </ul>\n    )\n  }\n  else if (value && !Array.isArray(value)) {\n    return options.find(op => op.value === value).text\n  }\n  else {\n    return <h4 style={{ color: 'red' }}>Not Entered</h4>\n  }\n}\n\nPresent.propTypes = DropDownQuestion.propTypes\n\nexport default compose(\n  withReduxField,\n  branch(({ present }) => !!present, renderComponent(Present)),\n  // Wrap setvalue because it can be multiples\n  mapProps(({ options, multiple, value, ...otherProps }) => {\n    let newVal\n    let newOptions = []\n    // dropdowns need a default state\n    if (multiple) {\n      newVal = Array.isArray(value) ? value : []\n      const optionvals = options.map(op => op.value)\n      const extraVals = newVal.filter(val => optionvals.indexOf(val) === -1)\n      newOptions = [...options, ...extraVals.map(v => ({ text: v, value: v }))]\n    }\n    else {\n      newVal = value || ''\n      newOptions = options\n    }\n\n    return {\n      ...otherProps,\n      multiple,\n      options: newOptions,\n      value: newVal\n    }\n  })\n)(DropDownQuestion)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { compose, branch, renderComponent } from 'recompose'\nimport { DateInput, TimeInput, DateTimeInput, DatesRangeInput } from 'semantic-ui-calendar-react'\nimport { Form, Header, Segment, Item } from 'semantic-ui-react'\nimport { withReduxField } from '../../../redux/withRedux'\n\nconst withFormWrapper = WrappedComponent => {\n  const InnerComponent = ({ selectorType, present, formGuid, title, value, setNote, setValue, ...props }) => (\n    <Segment basic>\n      <Header as='h3'>{title}</Header>\n      <Form.Field>\n        <WrappedComponent\n          {...props}\n          value={value || ''}\n          onChange={(e, { value }) => setValue(value)} />\n      </Form.Field>\n    </Segment>\n  )\n  InnerComponent.displayName = `/components/DatePicker`\n  InnerComponent.propTypes = {\n    name: PropTypes.string,\n    title: PropTypes.string,\n    value: PropTypes.string,\n    placeholder: PropTypes.string,\n\n    iconPosition: PropTypes.string,\n    popupPosition: PropTypes.string,\n    closable: PropTypes.bool,\n    valueSet: PropTypes.func\n  }\n  InnerComponent.defaultProps = {\n    name: 'DATEPICKER',\n    iconPosition: 'left',\n    popupPosition: 'bottom left',\n    closable: true,\n    value: ''\n  }\n  return InnerComponent\n}\n\nconst Present = ({ title, value }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        {value || <h4 style={{ color: 'red' }}>Not Entered</h4>}\n      </Item.Description>\n    </Item.Content>\n  </Item>\n)\nPresent.propTypes = DateInput.propTypes\n\nexport const DatePicker = compose(\n  withReduxField,\n  branch(({ present }) => !!present, renderComponent(Present)),\n  withFormWrapper\n)(DateInput)\nexport const DateTimePicker = compose(\n  withReduxField,\n  branch(({ present }) => !!present, renderComponent(Present)),\n  withFormWrapper\n)(DateTimeInput)\nexport const TimePicker = compose(\n  withReduxField,\n  branch(({ present }) => !!present, renderComponent(Present)),\n  withFormWrapper\n)(TimeInput)\nexport const DateRangePicker = compose(\n  withReduxField,\n  branch(({ present }) => !!present, renderComponent(Present)),\n  withFormWrapper\n)(DatesRangeInput)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport RadioQuestion from '../questions/RadioQuestion'\nimport TextField from '../questions/TextField'\nimport DropDownQuestion from '../questions/DropDownQuestion'\n// import { Segment } from 'semantic-ui-react'\nimport { DateTimePicker } from '../questions/DatePicker'\n\nconst DesignInfo = ({ id, present }) => (\n  <div>\n    <TextField name='designerName' present={present} label='Designer Name(s):' placeholder='Susan Andersen' />\n    <TextField name='structureID' present={present} label='Structure ID:' placeholder='COMPLEX_323123 ... 1233' />\n    <DateTimePicker name='observationDate' present={present} title='Observation Date:' />\n    <TextField name='designVideo' present={present} label='Design Video:' type='url' placeholder='https://youtu.be/SB-qEYVdvXA' />\n    <DropDownQuestion\n      name='designFlowCondition'\n      present={present}\n      title={'Design Flow Conditions'}\n      fluid selection\n      options={[\n        { text: 'Baseflow', value: 'BASEFLOW' },\n        { text: 'Spring runoff', value: 'SPRING_RUNOFF' },\n        { text: 'Flood', value: 'FLOOD' },\n        { text: 'Post Flood', value: 'POST_FLOOW' }\n      ]}\n    />\n    <RadioQuestion\n      name='designType'\n      present={present}\n      title={'Design Type'}\n      options={[\n        { label: 'Beaver Dam Analogue', value: 'BDA' },\n        { label: 'Post Assisted Log Structure', value: 'PALS' },\n        { label: 'Unanchored/Pinned Wood Addition', value: 'UNANCHORED_WOOD' }\n      ]}\n    />\n  </div>\n)\nDesignInfo.propTypes = {\n  id: PropTypes.number,\n  present: PropTypes.bool\n}\n\nexport default DesignInfo\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport ReactMapGL, { Marker } from 'react-map-gl'\n\nimport { AutoSizer } from 'react-virtualized'\nimport { Segment, Header, Dimmer, Loader, Message, Icon, Grid, Input, Item } from 'semantic-ui-react'\nimport { withReduxField } from '../../../redux/withRedux'\nimport { compose, withHandlers, mapProps, branch, renderComponent } from 'recompose'\nimport mapStyle from './LocationPicker.style.json'\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\nconst LocationPicker = ({ title, loading, message, error, viewport, mapboxApiAccessToken, onViewportChange }) => {\n  let icon = <Icon name='circle notched' loading />\n  if (!loading) icon = <Icon name={error ? 'check times' : 'check circle'} />\n  // console.log('RENDER', viewport)\n  return (\n    <Segment>\n      <Header as='h3'>{title}</Header>\n      <Grid columns={2}>\n        <Grid.Row>\n          <Grid.Column>\n            <Input fluid label='Lat:' placeholder='49.29949' value={viewport.latitude} />\n          </Grid.Column>\n          <Grid.Column>\n            <Input fluid label='Lng:' placeholder='-123.34234' value={viewport.longitude} />\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n      <div style={{ height: 400 }}>\n        <Dimmer active={loading}>\n          <Loader />\n        </Dimmer>\n        <AutoSizer>\n          {({ height, width }) => loading ? null : (\n            <ReactMapGL\n              height={height}\n              width={width}\n              mapStyle={mapStyle}\n              {...viewport}\n              onViewportChange={onViewportChange}\n              mapboxApiAccessToken={mapboxApiAccessToken}\n            >\n              {console.log('HERE', { loading, height, width })}\n              <Marker key={`marker-1`}\n                longitude={viewport.longitude}\n                latitude={viewport.latitude}\n                offsetLeft={-20} offsetTop={-10}\n              >\n                <Icon style={{ color: '#FFFFFF', textShadow: '0px 0px 2px #000000' }}\n                  name='map marker alternate'\n                  size='huge' />\n              </Marker>\n              {/* <Popup tipSize={5}\n                anchor='top'\n                longitude={viewport.longitude}\n                latitude={viewport.latitude} /> */}\n            </ReactMapGL>\n          )\n          }\n        </AutoSizer>\n      </div>\n      <Message positive={!loading && !error} negative={error} icon>\n        {icon}\n        <Message.Content>\n          <p>{error || message}</p>\n        </Message.Content>\n      </Message>\n\n    </Segment>\n  )\n}\n\nLocationPicker.propTypes = {\n  title: PropTypes.string,\n  viewport: PropTypes.object,\n  mapboxApiAccessToken: PropTypes.string,\n  onViewportChange: PropTypes.func,\n  loading: PropTypes.bool,\n  error: PropTypes.string,\n  message: PropTypes.string\n}\n\nconst withGeolocation = (WrappedComponent) =>\n  class Geolocation extends React.Component {\n    state = {\n      loading: true,\n      message: 'Retrieving location data...'\n    }\n    static propTypes = {\n      viewport: PropTypes.object,\n      onViewportChange: PropTypes.func\n    }\n\n    async componentWillMount () {\n      const geolocation = navigator.geolocation\n      const location = await new Promise(resolve => {\n        if (!geolocation) {\n          resolve({\n            state: {\n              error: 'Not Supported'\n            }\n          })\n        }\n\n        geolocation.getCurrentPosition(\n          ({ coords: { latitude, longitude } }) => {\n            resolve({\n              viewport: Object.assign({}, this.props.viewport, {\n                latitude,\n                longitude\n              }),\n              state: {\n                loading: false,\n                message: 'Retrieved Location Data'\n              }\n            })\n          },\n          () => {\n            resolve({\n              state: {\n                loading: false,\n                error: 'Error retrieving location data from device.'\n              }\n            })\n          })\n      })\n      // console.log('SETSTATE', { ...location })\n      if (location.viewport) this.props.onViewportChange(location.viewport)\n      this.setState(location.state)\n    }\n\n    render () {\n      return <WrappedComponent {...this.props} {...this.state} />\n    }\n  }\n\nconst Present = ({ title, value }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        <pre><code>{JSON.stringify(value, null, 2)}</code></pre>\n      </Item.Description>\n    </Item.Content>\n  </Item>\n)\n\nPresent.propTypes = LocationPicker.propTypes\n\nexport default compose(\n  withReduxField,\n  withHandlers({\n    onViewportChange: ({ value, setValue }) => newVal => setValue(newVal)\n  }),\n  mapProps(props => ({\n    ...props,\n    viewport: props.value || {\n      latitude: 49.29949,\n      longitude: -123.1528795,\n      zoom: 17\n    }\n  })),\n  branch(({ present }) => !!present, renderComponent(Present)),\n  withGeolocation\n)(LocationPicker)\n","/**\n * NOTE: This gets checked into Git. Nothing secret should go here\n */\nexport const AuthStates = {\n  unknown: 'unknown', // This is the initial state\n  unauthenticated: 'unauthenticated',\n  signingOut: 'signingOut',\n  signedOut: 'signedOut',\n  signingIn: 'signingIn',\n  signedIn: 'signedIn',\n  mfaRequired: 'mfaRequired',\n  newPasswordRequired: 'newPasswordRequired'\n}\n\n// Need to supply a mapbox token (it's not secret. Putting it in git is fine)\nexport const mapBoxToken = process.env.REACT_APP_MAPBOXTOKEN\n\nlet domain = process.env.REACT_APP_DOMAIN\nif (process.env.NODE_ENV && process.env.NODE_ENV === 'development') {\n  domain = 'localhost'\n}\n\nexport default {\n  env: process.env.NODE_ENV,\n  GraphQLEndpoint: process.env.REACT_APP_GRAPHQL,\n  // Cognito stuff\n  Auth: {\n    // REQUIRED only for Federated Authentication - Amazon Cognito Identity Pool ID\n    // identityPoolId: 'XX-XXXX-X:XXXXXXXX-XXXX-1234-abcd-1234567890ab',\n\n    // REQUIRED - Amazon Cognito Region\n    region: process.env.REACT_APP_AWS_REGION,\n\n    // OPTIONAL - Amazon Cognito Federated Identity Pool Region\n    // Required only if it's different from Amazon Cognito Region\n    // identityPoolRegion: 'XX-XXXX-X',\n\n    // OPTIONAL - Amazon Cognito User Pool ID\n    userPoolId: process.env.REACT_APP_USER_POOL_ID,\n\n    // OPTIONAL - Amazon Cognito Web Client ID (26-char alphanumeric string)\n    userPoolWebClientId: process.env.REACT_APP_COGNITO_CLIENT,\n\n    // OPTIONAL - Enforce user authentication prior to accessing AWS resources or not\n    mandatorySignIn: true,\n\n    // OPTIONAL - Configuration for cookie storage\n    cookieStorage: {\n      // REQUIRED - Cookie domain (only required if cookieStorage is provided)\n      domain: `${domain}`,\n      // OPTIONAL - Cookie path\n      path: process.env.REACT_APP_COOKIEPATH || null,\n      // OPTIONAL - Cookie expiration in days\n      expires: 20,\n      // OPTIONAL - Cookie secure flag (requires HTTP)\n      secure: true\n    }\n\n    // OPTIONAL - customized storage object\n    // storage: new MyStorage(),\n\n    // OPTIONAL - Manually set the authentication flow type. Default is 'USER_SRP_AUTH'\n    // authenticationFlowType: 'USER_PASSWORD_AUTH'\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport LocationPicker from '../questions/LocationPicker'\nimport TextField from '../questions/TextField'\nimport RadioQuestion from '../questions/RadioQuestion'\nimport { mapBoxToken } from '../../../config'\n\nconst PositionAttrib = ({ id, present }) => (\n  <div>\n    <LocationPicker present={present} name='location' mapboxApiAccessToken={mapBoxToken} />\n    <RadioQuestion\n      name='structureChannelLocation'\n      present={present}\n      title='Structure Location Relative to Channel(s)'\n      options={[\n        { label: 'On Main Channel', value: 'MAIN_CHANNEL' },\n        { label: 'On Right Side Channel(s)', value: 'RIGHT_SIDE_CHANNEL' },\n        { label: 'On Left Side Channel(s)', value: 'LEFT_SIDE_CHANNEL' },\n        { label: 'On Right Floodplain', value: 'FLOODPLAIN_L' },\n        { label: 'On Left Floodplain', value: 'FLOODPLAIN_R' }\n      ]}\n    />\n    <TextField\n      name='complex'\n      present={present}\n      label='Complex:'\n      placeholder='COMPLEX_323123 ... 1233' />\n    <RadioQuestion\n      name='complexExtended'\n      present={present}\n      options={[\n        { label: 'Part of new dam complex', value: 'NEW_DAM_COMPLEX' },\n        { label: 'Expansion of existing dam complex', value: 'EXPANSION' },\n        { label: 'NA - Isolated Dam', value: 'NA_ISOLATED_DAM' },\n        { label: 'NA - Non-Dam', value: 'NA_NON_DAM' }\n      ]}\n    />\n  </div>\n)\nPositionAttrib.propTypes = {\n  id: PropTypes.number,\n  present: PropTypes.bool\n}\n\nexport default PositionAttrib\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport TextField from '../questions/TextField'\nimport DropDownQuestion from '../questions/DropDownQuestion'\nimport RadioQuestion from '../questions/RadioQuestion'\n\nconst StructureDesign = ({ id, present }) => (\n  <div>\n    <RadioQuestion\n      title='Structure Position'\n      name='structurePosition'\n      present={present}\n      options={[\n        { label: 'River Right Margin Attached', value: 'RIVER_RIGHT_MARGIN_ATTACHED' },\n        { label: 'River Left Margin Attached', value: 'RIVER_LEFT_MARGIN_ATTACHED' },\n        { label: 'Channel Spanning (i.e. BDA or Debris Jam)', value: 'SPANNING' },\n        { label: 'Mid Channel', value: 'MID_CHANNEL' }\n      ]}\n    />\n    <RadioQuestion\n      title='Structure Orientation'\n      name='structureOrientation'\n      present={present}\n      options={[\n        { label: 'Perpendicular to Flow', value: 'PERPENDICULAR' },\n        { label: 'Angled Flow Downstream', value: 'ANGLED_DOWN' },\n        { label: 'Angled Flow Upstream', value: 'ANGLED_UP' },\n        { label: 'Diamond', value: 'DIAMOND' },\n        { label: 'Triangle Pointing Upstream', value: 'TRIANGLE_UP' },\n        { label: 'Triangle Pointing DownStrream', value: 'TRIANGLE_DOWN' }\n      ]}\n    />\n    <RadioQuestion\n      title='Channel Constriction (% of Bankfull Width)'\n      name='channelConstriction'\n      present={present}\n      options={[\n        { label: '100% BFW', value: '100' },\n        { label: '95-99%', value: '95T99' },\n        { label: '85-95%', value: '85T95' },\n        { label: '75-85%', value: '75T85' },\n        { label: '50-75%', value: '50T75' },\n        { label: '< 25%', value: 'LT25' }\n      ]}\n    />\n    <TextField name='numPosts' present={present} label='Number of Posts' placeholder='1,2,3' type='number' />\n    <DropDownQuestion\n      title='Structure Materials'\n      name='structureMaterials'\n      present={present}\n      fluid multiple search selection allowAdditions\n      placeholder='Choose all that apply...'\n      options={[\n        { text: 'Willow Weave', value: 'Willow Weave' },\n        { text: 'Key piece (completely limbed)', value: 'Key piece (completely limbed)' },\n        { text: 'Key piece (limbed on bottom side only)', value: 'Key piece (limbed on bottom side only)' },\n        { text: 'Root wad', value: 'Root wad' },\n        { text: 'Small Woody Debris', value: 'Small Woody Debris' },\n        { text: 'Woody branches (single limbed) > 15cm diameter', value: 'Woody branches (single limbed) > 15cm diameter' },\n        { text: 'Woody branches (single limbed) < 15cm diameter', value: 'Woody branches (single limbed) < 15cm diameter' },\n        { text: 'Mud', value: 'Mud' },\n        { text: 'Grass / Reeds', value: 'Grass / Reeds' },\n        { text: 'Other organic', value: 'Other organic' },\n        { text: 'Cobble or Boulders', value: 'Cobble or Boulders' },\n        { text: '203 Guy Woddy Debris', value: '203 Guy Woddy Debris' },\n        { text: 'Turf', value: 'Turf' },\n        { text: 'Dowelled or Twine tied Simple Logs', value: 'Dowelled or Twine tied Simple Logs' }\n      ]}\n    />\n    <RadioQuestion\n      name='materialSources'\n      present={present}\n      options={[\n        { label: 'Material Sourced on site', value: 'ONSITE' },\n        { label: 'Materials Imported', value: 'IMPORTED' }\n      ]}\n    />\n    <TextField name='maxStrucHeight' present={present} label='Max dam/structure height (m) 0.1m' placeholder='2.4' type='text' />\n    <TextField name='maxPondDepth' present={present} label='Max pond depth (m if applicable) 0.1m' placeholder='2.4' type='text' />\n    <TextField name='waterSurfDiff' present={present} label='Water surface difference (m if applicable) 0.1m' placeholder='2.4' type='text' />\n    <TextField name='structLength' present={present} label='Structure Length (m) 1.0m' placeholder='3.0' type='text' />\n  </div>\n)\nStructureDesign.propTypes = {\n  id: PropTypes.number,\n  present: PropTypes.bool\n}\n\nexport default StructureDesign\n","import React from 'react'\n// import PropTypes from 'prop-types'\nimport { Segment, Divider } from 'semantic-ui-react'\nimport Topbar from '../Topbar'\n\n// Now import our form sections\nimport DesignInfo from '../sections/DesignInfo'\nimport PositionAttrib from '../sections/PositionAttrib'\nimport StructureDesign from '../sections/StructureDesign'\n// import ExistingFeatures from '../sections/ExistingFeatures'\n// import HydraulicResponses from '../sections/HydraulicResponses'\n// import GeomorphicResponses from '../sections/GeomorphicResponses'\n\n/**\n   * Same goes for the viewer\n   */\nconst StructureViewer = () => (\n  <div className='appContainer'>\n    <Topbar />\n    <Segment style={{ marginTop: '40px' }} className='presentForm'>\n      <DesignInfo present />\n      <Divider />\n      <PositionAttrib present />\n      <Divider />\n      <StructureDesign present />\n      <Divider />\n      <StructureDesign present />\n      <Divider />\n      <StructureDesign present />\n      <Divider />\n      <StructureDesign present />\n      <Divider />\n    </Segment>\n  </div>\n)\n\n// StructureViewer.propTypes = {\n//   thing: PropTypes.string\n// }\n\nexport default StructureViewer\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Step, Segment, Header, Divider, Responsive, Sidebar, Menu, Icon, Form, Dimmer, Button } from 'semantic-ui-react'\nimport { compose, withState, mapProps } from 'recompose'\nimport { withReduxHome } from '../../../redux/withRedux'\nimport './TheFormComplex.css'\n\nconst TheFormComplex = ({ activeStep, steps, stepHeaders, sidebarVisible, setSidebarVisible, setActiveStep }) => {\n  return (\n    <div style={{ height: '100%' }}>\n      <TopbarEditing\n        activeStep={activeStep}\n        sidebarVisible={sidebarVisible}\n        steps={steps}\n        setSidebarVisible={setSidebarVisible}\n        setActiveStep={setActiveStep} />\n      <Sidebar.Pushable as='div'>\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          inverted\n          onHide={this.handleSidebarHide}\n          vertical\n          visible={sidebarVisible}\n          width='wide'\n        >\n          <Step.Group attached='top' style={{ marginTop: '40px' }}\n            vertical\n            ordered size='mini'\n            fluid>\n            {stepHeaders}\n          </Step.Group>\n        </Sidebar>\n\n        <Sidebar.Pusher style={{ marginTop: '40px' }}>\n          <Dimmer.Dimmable as={Segment} attached blurring>\n            <Dimmer active={sidebarVisible} onClick={() => setSidebarVisible(false)} />\n            <Responsive maxWidth='800'>\n              <p>{steps[activeStep] && steps[activeStep].description}</p>\n              <Divider />\n            </Responsive>\n            <Form>\n              {steps.map(({ Component }, idx) => (\n                <div key={`stepComp${idx}`} style={{ display: (activeStep === idx) || (!activeStep && idx === 0) ? '' : 'none' }}>\n                  <Component />\n                </div>\n              ))}\n            </Form>\n            <Menu icon style={{ borderRadius: 0 }}>\n              <Menu.Menu position='right'>\n                {\n                  activeStep < 1 ? null : (\n                    <Menu.Item onClick={() => {\n                      setActiveStep(activeStep - 1)\n                      setSidebarVisible(false)\n                    }\n                    }>\n                      <Icon name='arrow circle left' />Previous Step\n                    </Menu.Item>\n                  )\n                }\n                {\n                  activeStep >= steps.length - 1 ? null : (\n                    <Menu.Item onClick={() => {\n                      setActiveStep(activeStep + 1)\n                      setSidebarVisible(false)\n                    }\n                    }>\n                      Next Step<Icon name='arrow circle right' />\n                    </Menu.Item>\n                  )\n                }\n              </Menu.Menu>\n            </Menu>\n          </Dimmer.Dimmable>\n        </Sidebar.Pusher>\n      </Sidebar.Pushable>\n\n    </div>\n  )\n}\n\nTheFormComplex.propTypes = {\n  activeStep: PropTypes.number,\n  steps: PropTypes.array,\n  sidebarVisible: PropTypes.bool,\n  setSidebarVisible: PropTypes.func,\n  setActiveStep: PropTypes.func,\n  stepHeaders: PropTypes.arrayOf(PropTypes.node)\n}\n\nexport default compose(\n  withState('activeStep', 'setActiveStep', 0),\n  withState('sidebarVisible', 'setSidebarVisible', false),\n  mapProps(initProps => {\n    const confirmStep = {\n      title: 'Confirmation',\n      description: 'Make sure everything is right',\n      Component: () => (\n        <div className='presentForm'>\n          {initProps.steps.map(({ Component }, idx) => <Component present key={`presentComponent${idx}`} />)}\n          <ConfirmMenu />\n        </div>\n      )\n    }\n    const newSteps = [...initProps.steps, confirmStep] //\n\n    const stepHeaders = newSteps.map(({ title, description, complete }, idx) => (\n      <Step link key={idx}\n        active={idx === initProps.activeStep}\n        completed={!!complete} onClick={() => {\n          initProps.setActiveStep(idx)\n          initProps.setSidebarVisible(false)\n        }\n        }>\n        <Step.Content>\n          <Step.Title>{title}</Step.Title>\n          <Step.Description>{description}</Step.Description>\n        </Step.Content>\n      </Step>\n    ))\n\n    return {\n      ...initProps,\n      steps: [...newSteps],\n      stepHeaders: [...stepHeaders] // confirmHeader\n    }\n  })\n)(TheFormComplex)\n\nconst ConfirmMenu = withReduxHome(({ editing: { guid }, deleteStructure, backToHome }) => (\n  <Menu icon style={{ borderRadius: 0 }}>\n    <Menu.Menu position='right'>\n      <Menu.Item>\n        <Button content='Cancel' color='red' icon='ban' onClick={() => {\n          // deleteStructure(guid)\n          backToHome()\n        }} />\n      </Menu.Item>\n      <Menu.Item>\n        <Button content='Save' color='green' icon='save' onClick={backToHome} />\n      </Menu.Item>\n    </Menu.Menu>\n  </Menu>\n))\n\nconst TopbarEditing = withReduxHome(({ backToHome, activeStep, sidebarVisible, steps, setSidebarVisible, setActiveStep }) => (\n  <Menu className='theFormComplexMenu' fixed='top' icon inverted style={{ borderRadius: 0 }}>\n    <Menu.Item onClick={backToHome}>\n      <Icon name='home' />\n    </Menu.Item>\n    <Menu.Item name='bars' onClick={() => setSidebarVisible(!sidebarVisible)}>\n      <Icon name='bars' />\n    </Menu.Item>\n    <Menu.Item style={{ maxWidth: '48%' }}>\n      <Header as='div' style={{ fontSize: '0.8rem' }} inverted>Step {activeStep + 1}: {steps[activeStep].title}</Header>\n    </Menu.Item>\n    <Menu.Menu position='right'>\n      {\n        activeStep < 1 ? null : (\n          <Menu.Item onClick={() => {\n            setActiveStep(activeStep - 1)\n            setSidebarVisible(false)\n          }\n          }>\n            <Icon name='arrow circle left' />\n          </Menu.Item>\n        )\n      }\n      {\n        activeStep >= steps.length - 1 ? null : (\n          <Menu.Item onClick={() => {\n            setActiveStep(activeStep + 1)\n            setSidebarVisible(false)\n          }}>\n            <Icon name='arrow circle right' />\n          </Menu.Item>\n        )\n      }\n    </Menu.Menu>\n  </Menu>\n)\n\n)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Note from './Note'\nimport { Image, Header, Segment, Card, Responsive, List, Modal, Button, Item, Icon } from 'semantic-ui-react'\nimport { compose, withStateHandlers, mapProps, branch, renderComponent } from 'recompose'\nimport { withReduxField } from '../../../redux/withRedux'\nimport Placeholder from '../../misc/Placeholder'\nimport './CardListPicker.css'\n\nconst CardListPicker = ({ title, options, hasNote, note, notePrompt, placeholder, value, setNote, toggleValue, modalOpen, setModal }) => {\n  const items = options.map((op, idx) => (\n    <CardListPickerItem\n      key={idx}\n      toggleValue={toggleValue}\n      selected={value && Array.isArray(value) && value.indexOf(op.value) > -1}\n      placeholder={placeholder}\n      {...op}\n    />))\n\n  return (\n    <Segment>\n      <Header as='h3'>{title}</Header>\n      <Modal closeIcon id='cardListModal' open={modalOpen} onClose={() => setModal(false)} centered={false}>\n        <Modal.Header>Select a Photo</Modal.Header>\n        <Modal.Content>\n          <Responsive as='div' maxWidth={499}>\n            <Card.Group itemsPerRow={2} centered>\n              {items}\n            </Card.Group>\n          </Responsive>\n          <Responsive as='div' minWidth={500}>\n            <Card.Group itemsPerRow={4} centered>\n              {items}\n            </Card.Group>\n          </Responsive>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color='green' onClick={() => setModal(false)}>\n            <Icon name='checkmark' /> Ok\n          </Button>\n        </Modal.Actions>\n      </Modal>\n      <Button onClick={() => setModal(true)}>Choose...</Button>\n      <List onClick={() => setModal(true)}>\n        {options.filter(op => value.indexOf(op.value) === 0).map((op, idx) => <CardListListItem\n          key={idx}\n          selected={value.indexOf(op.value) === 0}\n          placeholder={placeholder}\n          {...op} />)}\n      </List>\n      {!hasNote ? null\n        : <Note\n          label={notePrompt}\n          value={note}\n          setValue={setNote}\n          modalTitle={`${title}: ${notePrompt}`}\n        />}\n    </Segment>\n  )\n}\n\nCardListPicker.propTypes = {\n  title: PropTypes.string,\n  value: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.string\n  ]),\n  toggleValue: PropTypes.func,\n  setModal: PropTypes.func,\n  options: PropTypes.array,\n  hasNotes: PropTypes.bool,\n  modalOpen: PropTypes.bool,\n  placeholder: PropTypes.object, // This is for design only\n\n  // Now the note stuff\n  note: PropTypes.string,\n  notePrompt: PropTypes.string,\n  hasNote: PropTypes.bool,\n  setNote: PropTypes.func\n}\n\nconst CardListListItem = ({ image, text, subText, placeholder }) => (\n  <List.Item>\n    {\n      placeholder\n        ? <Placeholder {...placeholder} height={50} />\n        : <Image src={image} width='100' />\n    }\n    <List.Content>\n      <List.Header>{text}</List.Header>\n      {subText && subText.length > 0 ? <List.Description>{subText}</List.Description> : null }\n    </List.Content>\n  </List.Item>\n)\nCardListListItem.propTypes = {\n  image: PropTypes.string,\n  text: PropTypes.string,\n  subText: PropTypes.string,\n  placeholder: PropTypes.object // This is for design only\n}\n\nconst CardListPickerItem = ({ image, text, value, subText, selected, placeholder, toggleValue }) => (\n  <Card link onClick={() => toggleValue(value)} className={selected ? 'active' : ''}>\n    {\n      placeholder\n        ? <Placeholder {...placeholder} minHeight={200} />\n        : <Image src={image} width={200} />\n    }\n    <Card.Content>\n      <Card.Header>{text}</Card.Header>\n      {/* <Card.Meta>{tool.context}</Card.Meta> */}\n      {subText && subText.length > 0 ? <Card.Description>{subText}</Card.Description> : null }\n    </Card.Content>\n  </Card>\n)\n\nCardListPickerItem.propTypes = {\n  image: PropTypes.string,\n  value: PropTypes.string,\n  text: PropTypes.string,\n  subText: PropTypes.string,\n  toggleValue: PropTypes.func,\n  selected: PropTypes.bool,\n  placeholder: PropTypes.object // This is for design only\n}\n\nconst Present = ({ title, options, value, placeholder }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        <List >\n          {options.filter(op => value.indexOf(op.value) === 0).map((op, idx) => <CardListListItem\n            key={idx}\n            selected={value.indexOf(op.value) === 0}\n            placeholder={placeholder}\n            {...op} />)}\n        </List>\n      </Item.Description>\n    </Item.Content>\n  </Item>\n)\n\nPresent.propTypes = CardListPicker.propTypes\n\nexport default compose(\n  withReduxField,\n\n  withStateHandlers(\n    {\n      modalOpen: false\n    },\n    {\n      toggleModal: ({ modalOpen }) => () => ({ modalOpen: !modalOpen }),\n      setModal: () => (val) => ({ modalOpen: val }),\n      toggleValue: (state, { value, multiple, setValue }) => val => {\n        if (multiple) {\n          let newValues = []\n          if (Array.isArray(value)) newValues = value.slice(0)\n\n          const index = newValues.indexOf(val)\n          if (index < 0) newValues.push(val)\n          else newValues.splice(index, 1)\n          setValue(newValues)\n        }\n        else {\n          setValue(val)\n          return { modalOpen: false }\n        }\n      }\n    }\n  ),\n  mapProps(props => ({\n    ...props,\n    value: props.value || []\n  })),\n  branch(({ present }) => !!present, renderComponent(Present))\n)(CardListPicker)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport CardListPicker from '../questions/CardListPicker'\n\nconst ExistingFeatures = ({ id, present }) => (\n  <div>\n    <CardListPicker title='Expected Geomorphic Units at Structure Location'\n      name='expectedUnits'\n      present={present}\n      hasNote\n      allowMultiple\n      options={[\n        { image: '/images/gut/planar_plane.png', value: 'Planar', text: 'Planar' },\n        { image: '/images/gut/convexity_mound.png', value: 'Convexity', text: 'Convexity (bar)' },\n        { image: '/images/gut/convexity_saddle.png', value: 'Saddle', text: 'Saddle (riffle)' },\n        { image: '/images/gut/concavity_bowl.png', value: 'Concavity', text: 'Concavity (true pool)' },\n        { image: '/images/gut/concavity_trough.png', value: 'Trough', text: 'Trough (shallow thalweg or chute)' },\n        { image: '/images/gut/planar_wall.png', value: 'WallEdge', text: 'Wall: Bank' },\n        { image: '/images/gut/planar_wall.png', value: 'WallBank', text: 'Wall: Edge' }\n      ]}\n    />\n    <CardListPicker title='Structural Elements at Structure Location'\n      name='elementsAtLocation'\n      present={present}\n      hasNote\n      allowMultiple\n      placeholder={{\n        icon: 'image outline',\n        aspect: 1\n      }}\n      options={[\n        {\n          value: `Roots`,\n          text: `Roots`,\n          subText: `some explanation`\n        },\n        {\n          value: `Live Trees/Shrubs`,\n          text: `Live Trees/Shrubs`,\n          subText: `some explanation`\n        },\n        {\n          value: `Aquatic Vegetation`,\n          text: `Aquatic Vegetation`,\n          subText: `some explanation`\n        },\n        {\n          value: `Boulder(s)`,\n          text: `Boulder(s)`,\n          subText: `some explanation`\n        },\n        {\n          value: `Woody Debris`,\n          text: `Woody Debris`,\n          subText: `some explanation`\n        },\n        {\n          value: `Wall: Bank`,\n          text: `Wall: Bank`,\n          subText: `some explanation`\n        },\n        {\n          value: `Wall: Bar Edge`,\n          text: `Wall: Bar Edge`,\n          subText: `some explanation`\n        }\n      ]} />\n  </div>\n)\nExistingFeatures.propTypes = {\n  id: PropTypes.number,\n  present: PropTypes.bool\n}\nexport default ExistingFeatures\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Track = ({ trackNum, step, source, target, getTrackProps }) => {\n  const classes = ['sliderTrack']\n  const dynamicStyle = {\n    left: `${source.percent}%`,\n    width: `${target.percent - source.percent}%`\n  }\n  if (trackNum === 2) {\n    classes.push('limiter')\n    // console.log('YOWZA', target.percent, source.percent)\n    if (target.percent < 100 + step) {\n      dynamicStyle.left = `${source.percent - step}%`\n      dynamicStyle.width = `${target.percent - source.percent + step}%`\n    }\n  }\n  else if (trackNum === 0) {\n    classes.push('progress')\n  }\n\n  return (\n    <div className={classes.join(' ')} style={dynamicStyle}\n      // {...getTrackProps()}\n    />\n  )\n}\n\nTrack.propTypes = {\n  trackNum: PropTypes.number,\n  step: PropTypes.number,\n  source: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired,\n    percent: PropTypes.number.isRequired\n  }).isRequired,\n  target: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired,\n    percent: PropTypes.number.isRequired\n  }).isRequired,\n  getTrackProps: PropTypes.func.isRequired\n}\n\nexport default Track\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\n// *******************************************************\n// TICK COMPONENT\n// *******************************************************\nconst Tick = ({ tick, count, format }) => (\n  <div>\n    <div className='sliderTick' style={{ left: `${tick.percent}%` }} />\n    <div className='sliderTickNum'\n      style={{\n        marginLeft: `${-(100 / count) / 2}%`,\n        width: `${100 / count}%`,\n        left: `${tick.percent}%`\n      }} >\n      {format(tick.value)}\n    </div>\n  </div>\n)\n\nTick.propTypes = {\n  tick: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired,\n    percent: PropTypes.number.isRequired\n  }).isRequired,\n  count: PropTypes.number.isRequired,\n  format: PropTypes.func.isRequired\n}\n\nTick.defaultProps = {\n  format: d => d\n}\n\nexport default Tick\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\n// *******************************************************\n// HANDLE COMPONENT\n// *******************************************************\nconst Handle = ({\n  disabled,\n  domain: [min, max],\n  handle: { id, value, percent },\n  getHandleProps\n}) => (\n  <div className={`sliderHandle${disabled ? ' disabled' : ''}`}\n    role='slider'\n    aria-valuemin={min}\n    aria-valuemax={max}\n    aria-valuenow={value}\n    style={{\n      left: `${percent}%`\n    }}\n    {...getHandleProps(id)}\n    onMouseDown={disabled ? null : getHandleProps(id).onMouseDown}\n    onTouchStart={disabled ? null : getHandleProps(id).onTouchStart}\n  />\n)\n\nHandle.propTypes = {\n  disabled: PropTypes.bool,\n  domain: PropTypes.array.isRequired,\n  handle: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired,\n    percent: PropTypes.number.isRequired\n  }).isRequired,\n  getHandleProps: PropTypes.func.isRequired\n}\n\nexport default Handle\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport _ from 'lodash'\nimport { Segment, Header, Item } from 'semantic-ui-react'\nimport { Slider, Rail, Handles, Tracks, Ticks } from 'react-compound-slider'\nimport { compose, withStateHandlers, branch, renderComponent } from 'recompose'\nimport { withReduxField } from '../../../../redux/withRedux'\nimport Track from './Track'\nimport Tick from './Tick'\nimport Handle from './Handle'\nimport './PercentSlider.css'\n\nconst STEP = 5\n\nconst PercentSliders = ({ title, mustAddUp, options, onUpdate, onChange, sliderValues }) => (\n  <div>\n    <Header as='h3'>{title}</Header>\n    <Segment basic>\n      {mustAddUp ? <p><em>(Must add to 100%)</em></p> : null}\n      {options.map(({ label, name }, idx) => (\n        <CustomSlider\n          name={name}\n          label={label}\n          onUpdate={(values) => onUpdate({ name, values })}\n          // onChange={(values) => onUpdate({  })}\n          key={idx}\n          step={STEP}\n          domain={[0, 100 + STEP]}\n          value={sliderValues[name] ? sliderValues[name] : [0, 100 + STEP]} />\n      ))}\n    </Segment>\n  </div>\n)\n\nconst sliderStyle = {\n  position: 'relative',\n  width: '100%'\n}\n\nPercentSliders.propTypes = {\n  title: PropTypes.string,\n  mustAddUp: PropTypes.bool,\n  options: PropTypes.arrayOf(PropTypes.object),\n  onUpdate: PropTypes.func,\n  onChange: PropTypes.func,\n  sliderValues: PropTypes.object\n}\n\nconst CustomSlider = ({ label, name, step, domain, value, onUpdate, onChange }) => (\n  <Slider className='sliderWrapper'\n    step={step}\n    mode={2}\n    domain={domain}\n    rootStyle={sliderStyle}\n    onUpdate={onUpdate}\n    onChange={onChange}\n    values={value} >\n    <Rail>\n      {({ getRailProps }) => (\n        <div className='sliderRail' {...getRailProps()}>\n          <Header as='h4'>{`${label}: ${value[0]}%`}</Header>\n        </div>\n      )}\n    </Rail>\n    <Handles>\n      {({ handles, getHandleProps }) => (\n        <div className='slider-handles'>\n          {handles.map((handle, idx) => (\n            <Handle\n              disabled={idx !== 0}\n              key={handle.id}\n              handle={handle}\n              domain={domain}\n              getHandleProps={getHandleProps}\n            />\n          ))}\n        </div>\n      )}\n    </Handles>\n    <Tracks>\n      {({ tracks, getTrackProps }) => (\n        <div className='slider-tracks'>\n          {tracks.map(({ id, source, target }, idx) => (\n            <Track\n              key={id}\n              trackNum={idx}\n              step={step}\n              source={source}\n              target={target}\n              getTrackProps={getTrackProps}\n            />\n          ))}\n        </div>\n      )}\n    </Tracks>\n    <Ticks values={tickVals}>\n      {({ ticks }) => (\n        <div className='slider-ticks'>\n          {ticks.map(tick => (\n            <Tick key={tick.id} tick={tick} count={ticks.length} />\n          ))}\n        </div>\n      )}\n    </Ticks>\n  </Slider>\n)\n\nCustomSlider.propTypes = {\n  label: PropTypes.string,\n  name: PropTypes.string,\n  step: PropTypes.number,\n  domain: PropTypes.arrayOf(PropTypes.number),\n  value: PropTypes.arrayOf(PropTypes.number)\n}\n\nconst tickVals = [ 10, 20, 30, 40, 50, 60, 70, 80, 90, 100 ]\n\n/**\n * This is where the meat of the function lives\n * @param {*} param0\n */\nconst handleValues = ({ sliderValues }, { setValue }) => ({ name, values }) => {\n  // Add everything together and figure out how much we have left\n  const max = Object.keys(sliderValues).map(slKey => sliderValues[slKey][0]).reduce((acc, x) => (acc + x), 0)\n  const newLevel = 100 - max + STEP\n\n  const maxNotThis = Object.keys(sliderValues).filter(x => x !== name).map(slKey => sliderValues[slKey][0]).reduce((acc, x) => (acc + x), 0)\n  const newLimiterThis = 100 - maxNotThis + STEP\n\n  const newSliderValues = _.cloneDeep(sliderValues)\n\n  if (!newSliderValues[name]) newSliderValues[name] = values\n\n  Object.keys(newSliderValues).forEach(objKey => {\n    if (name !== objKey) {\n      if (newLevel > newSliderValues[objKey][0] + STEP) newSliderValues[objKey][1] = newLevel\n      else {\n        newSliderValues[objKey][1] = newSliderValues[objKey][0] + STEP\n      }\n    }\n    else if (name === objKey) {\n      newSliderValues[objKey] = [values[0], newLimiterThis]\n    }\n    // if (objKey === 'OVER_TOP') console.log('WEIRD:', newSliderValues[objKey], newLevel)\n  })\n  // console.log('PROPS', name, values, newSliderValues[name])\n  setValue(Object.keys(newSliderValues).reduce((acc, key) => {\n    acc[key] = newSliderValues[key][0]\n    return acc\n  }, {}))\n  return { sliderValues: newSliderValues }\n}\n\nconst Present = ({ title, value }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        <pre><code>{JSON.stringify(value, null, 2)}</code></pre>\n      </Item.Description>\n    </Item.Content>\n  </Item>\n)\n\nPresent.propTypes = PercentSliders.propTypes\n\nexport default compose(\n  withReduxField,\n  branch(({ present }) => !!present, renderComponent(Present)),\n  withStateHandlers(\n    ({ options }) => ({\n      sliderValues: options.reduce((acc, val) => {\n        acc[val.name] = [0, 100 + STEP]\n        return acc\n      }, {})\n    }),\n    {\n      onUpdate: handleValues\n      // onChange: () => ({ values, name }) => ({ values: Object.assign({}, values, { [name]: values }) })\n    }\n  )\n)(PercentSliders)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Form, Checkbox, Header, Segment, Item } from 'semantic-ui-react'\nimport Note from './Note'\nimport { compose, withHandlers, renderComponent, branch } from 'recompose'\nimport { withReduxField } from '../../../redux/withRedux'\n\nconst CheckboxQuestion = ({ title, options, hasNote, note, notePrompt, setNote, setValue }) => (\n  <Segment basic>\n    <Header as='h3'>{title}</Header>\n    {options.map(({ label, value }, idx) => (\n      <Form.Field key={idx}>\n        <Checkbox label={label} value={value} onChange={() => setValue(value)} />\n      </Form.Field>\n    ))}\n    {!hasNote ? null\n      : <Note\n        label={notePrompt}\n        value={note}\n        setValue={setNote}\n        modalTitle={`${title}: ${notePrompt}`}\n      />}\n  </Segment>\n)\n\nCheckboxQuestion.propTypes = {\n  title: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.object),\n  // Now the note stuff\n  note: PropTypes.string,\n  notePrompt: PropTypes.string,\n  hasNote: PropTypes.bool,\n  setNote: PropTypes.func,\n\n  setValue: PropTypes.func\n}\n\nconst Present = ({ title, value, options, note }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        {value && Array.isArray(value) && value.length > 0\n          ? printValues(value, options)\n          : <h4 style={{ color: 'red' }}>Not Entered</h4>}\n      </Item.Description>\n      {note ? <Item.Extra>Note: <em>{note}</em></Item.Extra> : null }\n    </Item.Content>\n  </Item>\n)\nfunction printValues (value, options) {\n  return (\n    <ul>\n      {value.map((val, idx) => (<li key={`item-${idx}`}>{options.find(op => op.value === val).label}</li>)) }\n    </ul>\n  )\n}\n\nPresent.propTypes = CheckboxQuestion.propTypes\n\nexport default compose(\n  withReduxField,\n  branch(({ present }) => !!present, renderComponent(Present)),\n  // Wrap setvalue because it can be multiples\n  withHandlers({\n    setValue: ({ value, setValue }) => (newVal) => {\n      let newValues = []\n      if (Array.isArray(value)) newValues = value.slice(0)\n\n      if (newValues.indexOf(newVal) < 0) newValues.push(newVal)\n      else newValues = newValues.splice(newValues.indexOf(newVal), 1)\n      setValue(newValues)\n    }\n  })\n)(CheckboxQuestion)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Segment, Button, Header, Item } from 'semantic-ui-react'\nimport { compose, withHandlers, mapProps, branch, renderComponent } from 'recompose'\nimport './FloodBehavior.css'\nimport { withReduxField } from '../../../redux/withRedux'\n\nconst GRADIENT = [\n  'green',\n  'yellow',\n  'orange',\n  'red'\n]\n\nconst FloodBehavior = ({ label, value: { location: loc, behavior }, setLoc, setBehavior }) => (\n  <Segment basic className='floodBehavior'>\n    <Header as='h3'>{label}</Header>\n    <Button.Group fluid toggle className={'behave ' + (behavior && behavior.length > 0 ? 'set' : '')}>\n      {['Intact', 'Minor', 'Major', 'Blowout'].map((bText, idx) => (\n        <Button\n          key={`behav${idx}`}\n          onClick={() => {\n            if (bText === 'Intact' || bText === 'Blowout') setLoc([])\n            setBehavior(bText)\n          }\n          }\n          active={behavior && behavior === bText}\n          color={GRADIENT[idx]}>\n          {bText}\n        </Button>\n      ))}\n    </Button.Group>\n    {\n      !behavior || behavior === 'Intact' || behavior === 'Blowout' ? null\n        : <LocationGroup loc={loc} behavior={behavior} setLoc={setLoc} />\n\n    }\n\n  </Segment>\n)\n\nFloodBehavior.propTypes = {\n  label: PropTypes.string,\n  value: PropTypes.shape({\n    loc: PropTypes.array,\n    behavior: PropTypes.string\n  }),\n  setLoc: PropTypes.func,\n  setBehavior: PropTypes.func\n}\n\nconst LocationGroup = ({ loc, setLoc }) => (\n  <div style={{ marginTop: '2em' }}>\n    <Header as='h4'>Location: (select all that apply)</Header>\n    <Button.Group fluid toggle>\n      {['Left', 'Center', 'Basal', 'Right'].map((bText, idx) => {\n        return (\n          <Button\n            key={`loca${idx}`}\n            size='large'\n            onClick={() => {\n              let newLoc = []\n              if (loc && Array.isArray(loc)) newLoc = loc.splice(0)\n              if (newLoc.indexOf(bText) === -1) newLoc.push(bText)\n              else newLoc.splice(newLoc.indexOf(bText), 1)\n              setLoc(newLoc)\n            }}\n            active={loc && loc.indexOf(bText) > -1}>\n            {bText}\n          </Button>\n        )\n      })}\n    </Button.Group>\n  </div>\n)\n\nLocationGroup.propTypes = {\n  loc: PropTypes.array,\n  setLoc: PropTypes.func\n}\n\nconst Present = ({ label, value: { location: loc, behavior } }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{label}</Item.Header>\n      <Item.Description>\n        <ul>\n          <li>{behavior || <h4 style={{ color: 'red' }}>Behavior Not Entered</h4>}</li>\n          {\n            !behavior || behavior === 'Intact' || behavior === 'Blowout' ? null\n              : <li>{loc ? loc.join(', ') : <h4 style={{ color: 'red' }}>Location Not Entered</h4>}</li>\n          }\n        </ul>\n      </Item.Description>\n    </Item.Content>\n  </Item>\n)\n\nPresent.propTypes = FloodBehavior.propTypes\n\nexport default compose(\n  withReduxField,\n  // Wrap setvalue because it can be multiples\n  withHandlers({\n    setLoc: ({ value, setValue }) => (newVal) => {\n      if (!value) setValue({ behavior: null, location: newVal })\n      else setValue({ ...value, location: newVal })\n    },\n    setBehavior: ({ value, setValue }) => (newVal) => {\n      if (!value) setValue({ behavior: newVal, location: null })\n      else setValue({ ...value, behavior: newVal })\n    }\n  }),\n  mapProps((props) => ({\n    ...props,\n    value: props.value ? props.value : { behavior: null, location: null }\n  })),\n  branch(({ present }) => !!present, renderComponent(Present))\n)(FloodBehavior)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport PercentSliders from '../questions/PercentSliders/PercentSliders'\nimport RadioQuestion from '../questions/RadioQuestion'\nimport Checkboxes from '../questions/Checkboxes'\nimport FloodBehavior from '../questions/FloodBehavior'\nimport { Header, Divider } from 'semantic-ui-react'\n\nconst HydraulicResponses = ({ id, present }) => (\n  <div>\n    <Header as='h3'>Low Flow Behavior</Header>\n    <PercentSliders title='Channel Spanners:' mustAddUp\n      name='channelSpanners'\n      present={present}\n      options={[\n        { label: 'Flow Over Top', name: 'OVER_TOP' },\n        { label: 'Basal Flow', name: 'BASAL' },\n        { label: 'Throughflow', name: 'THROUGHFLOW' },\n        { label: 'Flow Around Left', name: 'AROUND_LEFT' },\n        { label: 'Flow Around Right', name: 'AROUND_RIGHT' }\n      ]} />\n    <PercentSliders title='Non-Channel Spanners:' mustAddUp\n      name='nonChannelSpanners'\n      present={present}\n      options={[\n        { label: 'Shunted Flow Left', name: 'SHUNT_LEFT' },\n        { label: 'Shunted Flow Right', name: 'SHUNT_RIGHT' },\n        { label: 'Flow Through (sieve)', name: 'THROUGH' },\n        { label: 'Flow Over Top', name: 'OVER' },\n        { label: 'Flow Under Bottom', name: 'UNDER' }\n      ]} />\n    <Divider />\n    <FloodBehavior label='Typical Flood Behavior' name='TypicalFlood' present={present} />\n    <FloodBehavior label='Big Flood Behavior' name='BigFlood' present={present} />\n    <RadioQuestion title='Estimated Upstream Zone of Hydraulic Influence'\n      name='upstreamHydraulicInfluence'\n      present={present}\n      options={[\n        { label: '< 1 BFW', value: '1' },\n        { label: '1-2 BFW', value: '1-2' },\n        { label: '2-5 BFW', value: '2-5' },\n        { label: '5-10 BFW', value: '5-10' },\n        { label: '> 10 BFW', value: '10-INF' }\n      ]} />\n    <RadioQuestion title='Estimated Downstream Zone of Hydraulic Influence'\n      name='downstreamHydraulicInfluence'\n      present={present}\n      options={[\n        { label: '< 1 BFW', value: '1' },\n        { label: '1-2 BFW', value: '1-2' },\n        { label: '2-5 BFW', value: '2-5' },\n        { label: '5-10 BFW', value: '5-10' },\n        { label: '> 10 BFW', value: '10-INF' }\n      ]} />\n    <Checkboxes title='Side Channel Forced'\n      name='sideChannelForced'\n      present={present}\n      options={[\n        { label: 'None', value: 'None' },\n        { label: 'Single Left', value: 'Single Left' },\n        { label: 'Multiple Left', value: 'Multiple Left' },\n        { label: 'Single Right', value: 'Single Right' },\n        { label: 'Multiple Right', value: 'Multiple Right' }\n      ]} />\n    <RadioQuestion title='Pond Extend'\n      name='pondExtend'\n      present={present}\n      options={[\n        { label: 'Contained within bankfull channel', value: 'Contained' },\n        { label: 'Expanding out onto floodplain', value: 'Expanding' },\n        { label: 'Drained', value: 'Drained' }\n      ]} />\n    <Checkboxes title='Floodplain Inundation'\n      name='floodplainInundation'\n      present={present}\n      options={[\n        { label: 'During Extreme Floods River Left', value: 'EXTREME_LEFT' },\n        { label: 'During Extreme Floods River Right', value: 'EXTREME_RIGHT' },\n        { label: 'During Seasonal Floods River Left', value: 'SEASONAL_LEFT' },\n        { label: 'During Seasonal Floods River Right', value: 'SEASONAL_RIGHT' },\n        { label: 'Year Round Inundation River Left', value: 'ALLYEAR_LEFT' },\n        { label: 'Year Round Inundation River Right', value: 'ALLYEAR_RIGHT' }\n      ]} />\n  </div>\n)\n\nHydraulicResponses.propTypes = {\n  id: PropTypes.number,\n  present: PropTypes.bool\n}\n\nexport default HydraulicResponses\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport CardListPicker from '../questions/CardListPicker'\nimport RadioQuestion from '../questions/RadioQuestion'\n\nconst GeomorphicResponses = ({ id, present }) => (\n  <div>\n    <RadioQuestion title='Pond Capacity (First Year Floods)'\n      name='pondCapacityFirstYear'\n      present={present}\n      options={[\n        { label: 'Clean', value: 'CLEAN' },\n        { label: 'Minor Sedimentation', value: 'MINOR' },\n        { label: 'Partial Filling (up to 50% of original pond capacity)', value: 'PARTIAL' },\n        { label: 'Major Filling (up to 50% of original pond capacity)', value: 'MAJOR' },\n        { label: 'Full Sediment', value: 'FULL' }\n      ]} />\n    <RadioQuestion title='Pond Capacity (If Big Floods)'\n      name='pondCapacityBigFlood'\n      present={present}\n      options={[\n        { label: 'Clean', value: 'CLEAN' },\n        { label: 'Minor Sedimentation', value: 'MINOR' },\n        { label: 'Partial Filling (up to 50% of original pond capacity)', value: 'PARTIAL' },\n        { label: 'Major Filling (up to 50% of original pond capacity)', value: 'MAJOR' },\n        { label: 'Full Sediment', value: 'FULL' }\n      ]} />\n    <CardListPicker title='Expected Dominant Substrate Upstream of Structure'\n      name='upstreamSubstrate'\n      present={present}\n      options={[\n        { image: '/images/substrate/fines.png', value: 'Fines', text: 'Fines' },\n        { image: '/images/substrate/sand.png', value: 'Sands', text: 'Sands' },\n        { image: '/images/substrate/gravel.png', value: 'Gravels', text: 'Gravels' },\n        { image: '/images/substrate/cobble.png', value: 'Cobble', text: 'Cobble' },\n        { image: '/images/substrate/food_cache.png', value: 'Food Cache & Fines', text: 'Food Cache & Fines' }\n      ]}\n    />\n    <CardListPicker title='Expected Dominant Substrate Downstream of Structure'\n      name='downstreamSubstrate'\n      present={present}\n      options={[\n        { image: '/images/substrate/fines.png', value: 'Fines', text: 'Fines' },\n        { image: '/images/substrate/sand.png', value: 'Sands', text: 'Sands' },\n        { image: '/images/substrate/gravel.png', value: 'Gravels', text: 'Gravels' },\n        { image: '/images/substrate/cobble.png', value: 'Cobble', text: 'Cobble' },\n        { image: '/images/substrate/food_cache.png', value: 'Food Cache & Fines', text: 'Food Cache & Fines' }\n      ]}\n    />\n    <CardListPicker title='Expected Geomorphic Units at Structure Location'\n      name='expectedUnitsAtStruct'\n      present={present}\n      hasNotes\n      options={[\n        { image: '/images/gut/planar_plane.png', value: 'Planar', text: 'Planar' },\n        { image: '/images/gut/convexity_mound.png', value: 'Convexity', text: 'Convexity (bar)' },\n        { image: '/images/gut/convexity_saddle.png', value: 'Saddle', text: 'Saddle (riffle)' },\n        { image: '/images/gut/concavity_bowl.png', value: 'Concavity', text: 'Concavity (true pool)' },\n        { image: '/images/gut/concavity_trough.png', value: 'Trough', text: 'Trough (shallow thalweg or chute)' },\n        { image: '/images/gut/planar_wall.png', value: 'WallEdge', text: 'Wall: Bank' },\n        { image: '/images/gut/planar_wall.png', value: 'WallBank', text: 'Wall: Edge' }\n      ]}\n    />\n\n    <RadioQuestion title='Expected Structural Elements at Structure Location'\n      name='expectedElementsAtStruct'\n      present={present}\n      hasNotes\n      options={[\n        { label: 'Roots', value: 'CLEAN' },\n        { label: 'Live Trees / Shrubs', value: 'MINOR' },\n        { label: 'Aquatic Vegetation', value: 'PARTIAL' },\n        { label: 'Boulder(s)', value: 'MAJOR' },\n        { label: 'Woody Debris', value: 'FULL' },\n        { label: 'Wall: Bank', value: 'FULL' },\n        { label: 'Wall: Bar Edge', value: 'FULL' }\n      ]} />\n  </div>\n)\n\nGeomorphicResponses.propTypes = {\n  id: PropTypes.number,\n  present: PropTypes.bool\n}\n\nexport default GeomorphicResponses\n","import React from 'react'\n// import PropTypes from 'prop-types'\n\nimport TheFormComplex from '../sections/TheFormComplex'\n// Now import our form sections\nimport DesignInfo from '../sections/DesignInfo'\nimport PositionAttrib from '../sections/PositionAttrib'\nimport StructureDesign from '../sections/StructureDesign'\nimport ExistingFeatures from '../sections/ExistingFeatures'\nimport HydraulicResponses from '../sections/HydraulicResponses'\nimport GeomorphicResponses from '../sections/GeomorphicResponses'\n\n/**\n * The form is a really simple component so I'm lazy and just defining it here\n */\nconst TheBDAForm = () => (\n  <TheFormComplex steps={[\n    {\n      title: 'Design Info',\n      description: 'Tell us something about your design',\n      complete: false,\n      Component: DesignInfo\n    },\n    {\n      title: 'Positional Attributes',\n      description: 'The position of your structure',\n      complete: false,\n      Component: PositionAttrib\n    },\n    {\n      title: 'Structure Design',\n      description: 'The structure of your design',\n      complete: false,\n      Component: StructureDesign\n    },\n    {\n      title: 'Existing Features',\n      description: 'are there any existing features?',\n      complete: false,\n      Component: ExistingFeatures\n    },\n    {\n      title: 'Anticipated Hydraulic Response',\n      description: 'What do you expect to happen?',\n      complete: false,\n      Component: HydraulicResponses\n    },\n    {\n      title: 'Anticipated Geomorphic Responses',\n      description: 'What geomorphic response do you anticipate?',\n      complete: false,\n      Component: GeomorphicResponses\n    }\n  ]}\n  />\n)\n// TheBDAForm.propTypes = {\n//   thing: PropTypes.string\n// }\n\nexport default TheBDAForm\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Button } from 'semantic-ui-react'\nimport { withCreateStructure } from '../../../graphql/queries'\n\nconst AddButton = ({ createStructure }) => (\n  <Button\n    className='addButton'\n    icon='plus'\n    circular\n    color='green'\n    onClick={(e) => {\n      e.preventDefault()\n      createStructure({ body: '{}' })\n    }}\n  />\n)\n\nAddButton.propTypes = {\n  createStructure: PropTypes.func\n}\n\nexport default withCreateStructure(AddButton)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Button } from 'semantic-ui-react'\nimport { withCreateStructure } from '../../../graphql/queries'\n\nconst RefreshStockButton = ({ createStructure }) => (\n  <Button\n    className='refreshButton'\n    icon='refresh'\n    content='Clear and refresh stock structures'\n    fluid\n    color='red'\n    onClick={(e) => {\n      // READ THE STOCK ENTRIES FROM A JSON FILE\n      const data = require('../views/data.json')\n      Object.values(data.structures).forEach(({ fields }) => {\n        createStructure({ body: JSON.stringify(fields) })\n      })\n      console.log('refresh', { data, createStructure })\n    }}\n  />\n)\n\nRefreshStockButton.propTypes = {\n  createStructure: PropTypes.func\n}\n\nexport default withCreateStructure(RefreshStockButton)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { compose, branch, renderComponent } from 'recompose'\n\n// Now some graphql stuff\nimport { withStructuresList } from '../../../graphql/queries'\nimport Structures from '../misc/Structures'\nimport Topbar from '../Topbar'\n\nimport { Tab } from 'semantic-ui-react'\nimport StructureViewer from './StructureViewer'\nimport TheBDAForm from './TheBDAForm'\nimport Placeholder from '../../misc/Placeholder'\nimport { withReduxHome } from '../../../redux/withRedux'\nimport AddButton from '../misc/AddButton'\nimport RefreshStockButton from '../misc/RefreshStockButton'\n\nimport './Homepage.css'\n\nconst Homepage = ({ structures }) => (\n  <div className='appContainer'>\n    <Topbar />\n    <Tab className='tabContainer' panes={\n      [\n        {\n          menuItem: { key: 'users', icon: 'list', content: 'List' },\n          render: () => (\n            <Tab.Pane>\n              <Structures structures={structures} />\n              <AddButton />\n            </Tab.Pane>\n          )\n        },\n        {\n          menuItem: { key: 'map', icon: 'map', content: 'Map' },\n          render: () => (\n            <Tab.Pane>\n              <Placeholder minHeight={400} icon='map' title='Fancy Pants Map' />\n            </Tab.Pane>\n          )\n        },\n        {\n          menuItem: { key: 'settings', icon: 'settings', content: 'Settings' },\n          render: () => (\n            <Tab.Pane>\n              <RefreshStockButton />\n            </Tab.Pane>\n          )\n        }\n      ]\n    } />\n  </div>\n)\n\nHomepage.propTypes = {\n  structures: PropTypes.array\n}\n\n/**\n * We really should be using React Router or something but for now we only have 3 states anyway:\n *    - List view (the one with tabs)\n *    - Form view (data entry)\n *    - View view (looking at the data being presented)\n */\nexport default compose(\n  withStructuresList,\n  withReduxHome,\n  branch(({ editing }) => editing && editing.guid && editing.edit, renderComponent(TheBDAForm)),\n  branch(({ editing }) => editing && editing.guid && !editing.edit, renderComponent(StructureViewer))\n)(Homepage)\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createStore, compose, applyMiddleware } from 'redux'\nimport persistState from 'redux-localstorage'\nimport reducers from './reducers'\nimport thunkMiddleware from 'redux-thunk'\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst store = createStore(\n  reducers,\n  composeEnhancer(\n    // {}, // default state (previously loaded from a JSON file)\n    persistState(), // keep our settings in localstorage\n    applyMiddleware(\n      thunkMiddleware // lets us dispatch() functions\n      // loggerMiddleware // neat middleware that logs actions\n    )\n  )\n)\n\nexport default store\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Homepage from './components/BDAMobile/views/Homepage'\nimport registerServiceWorker from './registerServiceWorker'\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\nimport config from './config'\n\nimport AWSAppSyncClient from 'aws-appsync'\nimport { Rehydrated } from 'aws-appsync-react'\nimport { ApolloProvider } from 'react-apollo'\n\n// Amplify\nimport Amplify, { Auth } from 'aws-amplify'\nimport { withAuthenticator } from 'aws-amplify-react'\n\n// Import some global CSS styles we use everywhere\nimport 'semantic-ui-css/semantic.css'\nimport 'react-vis/dist/style.css'\nimport './index.css'\n\n// Amplify init\nAmplify.configure(config.Auth)\n\n// AppSync client instantiation\nconst client = new AWSAppSyncClient({\n  url: config.GraphQLEndpoint,\n  region: config.Auth.region,\n  auth: {\n    type: 'AMAZON_COGNITO_USER_POOLS',\n    // Get the currently logged in users credential.\n    jwtToken: async () => (await Auth.currentSession()).getAccessToken().getJwtToken()\n  },\n  // Amplify uses Amazon IAM to authorize calls to Amazon S3. This provides the relevant IAM credentials.\n  complexObjectsCredentials: () => Auth.currentCredentials()\n})\n\nconst AppWithAuth = withAuthenticator(Homepage, false)\n\n// REDUX then apollo then auth\nReactDOM.render(\n  <Provider store={store}>\n    <ApolloProvider client={client}>\n      <Rehydrated>\n        <AppWithAuth />\n      </Rehydrated>\n    </ApolloProvider>\n  </Provider>,\n  document.getElementById('root'))\n\n// This is what makes a PWA\nregisterServiceWorker()\n\nfunction addToHomeScreen () {\n  const a2hsBtn = document.querySelector('.ad2hs-prompt') // hide our user interface that shows our A2HS button\n  a2hsBtn.style.display = 'none' // Show the prompt\n  deferredPrompt.prompt() // Wait for the user to respond to the prompt\n  deferredPrompt.userChoice\n    .then(choiceResult => {\n      if (choiceResult.outcome === 'accepted') console.log('User accepted the A2HS prompt')\n      else console.log('User dismissed the A2HS prompt')\n\n      deferredPrompt = null\n    })\n}\n\nfunction showAddToHomeScreen () {\n  const a2hsBtn = document.querySelector('.ad2hs-prompt')\n  a2hsBtn.style.display = 'block'\n  a2hsBtn.addEventListener('click', addToHomeScreen)\n}\n\nlet deferredPrompt\nwindow.addEventListener('beforeinstallprompt', e => {\n  // Prevent Chrome 67 and earlier from automatically showing the prompt\n  e.preventDefault()\n  // Stash the event so it can be triggered later.\n  deferredPrompt = e\n\n  showAddToHomeScreen()\n})\n"],"sourceRoot":""}