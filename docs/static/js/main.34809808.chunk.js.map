{"version":3,"sources":["graphql/queries.js","redux/reducers.js","redux/withRedux.js","components/BDAMobile/misc/Structures/StructureListItem.jsx","components/misc/Placeholder.jsx","components/BDAMobile/misc/Structures/index.js","components/BDAMobile/misc/Structures/StructureList.jsx","components/BDAMobile/Topbar.jsx","graphql/withFieldData.js","components/BDAMobile/questions/Note.jsx","components/BDAMobile/questions/RadioQuestion.jsx","components/BDAMobile/questions/CardListPicker.jsx","components/BDAMobile/sections/geomorphicResponse.js","components/BDAMobile/questions/TextField.jsx","components/BDAMobile/questions/DropDownQuestion.jsx","components/BDAMobile/questions/DatePicker.jsx","components/BDAMobile/sections/designInfo.js","components/BDAMobile/questions/LocationPicker.jsx","config.js","components/BDAMobile/sections/positionalAttrib.js","components/BDAMobile/sections/existingFeatures.js","components/BDAMobile/sections/structureDesign.js","components/BDAMobile/questions/PercentSliders/Track.jsx","components/BDAMobile/questions/PercentSliders/Tick.jsx","components/BDAMobile/questions/PercentSliders/Handle.jsx","components/BDAMobile/questions/PercentSliders/PercentSliders.jsx","components/BDAMobile/questions/Checkboxes.jsx","components/BDAMobile/questions/FloodBehavior.jsx","components/BDAMobile/sections/index.js","components/BDAMobile/sections/hydraulicResponse.js","components/BDAMobile/views/StructureViewer.jsx","components/BDAMobile/misc/AddButton.jsx","components/BDAMobile/misc/RefreshStockButton.jsx","components/BDAMobile/views/TheFormComplex.jsx","components/BDAMobile/views/Homepage.jsx","registerServiceWorker.js","redux/store.js","index.js"],"names":["QueryListStructures","gql","_templateObject","QueryGetStructure","_templateObject2","MutationCreateStructure","_templateObject3","MutationDeleteStructure","_templateObject4","_templateObject5","withGetStructure","graphql","options","_ref","pollInterval","editing","fetchPolicy","variables","id","guid","props","structure","data","getBDAPOC","Object","objectSpread","body","JSON","parse","withStructuresList","_ref2","structures","listBDAPOCS","items","withCreateStructure","update","proxy","_ref3","createBDAPOC","query","readQuery","toConsumableArray","filter","struct","concat","console","log","writeQuery","_ref4","ownProps","mutate","createStructure","input","lastEdit","Math","round","Date","getTime","optimisticResponse","__typename","uuid","withDeleteStructure","_ref5","deleteBDAPOC","_ref6","deleteStructure","actionConsts","actions","type","defaultState","combineReducers","state","arguments","length","undefined","action","edit","withFormState","compose","connect","name","formGuid","currField","value","note","fields","e","mapProps","objectWithoutProperties","withReduxHome","withHandlers","backToHome","dispatch","editStructure","viewStructure","SIDEBARS","NONE","DELETE","EDIT","withProps","localOnly","indexOf","color","withStateHandlers","sidebarVisible","deleteConfirmVisible","itemClick","editClick","onSwipedLeft","_ref7","onSwipedRight","_ref8","closeMenu","stopPropagation","deleteClick","deleteCancel","deleteConfirm","_ref9","_ref$structure","lastedit","react_default","a","createElement","Sidebar","Pushable","as","List","Item","style","overflow","animation","Menu","icon","inverted","direction","width","visible","onClick","minWidth","Icon","Pusher","Swipeable_default","Segment","minHeight","basic","Label","corner","Header","structureID","getHeader","observationDate","designerName","moment","fontSize","format","getMeta","Confirm","header","open","onCancel","onConfirm","size","Placeholder","pure","autoHeight","autoWidth","aspect","height","className","json","description","title","showSize","finalHeight","finalWidth","minSize","min","iconStyle","widthText","heightText","maxWidth","classes","split","join","Image","toString","stringify","defaultProps","SizerWrapper","dist_es","Placeholder_Placeholder","assign","displayName","StructureList","keys","misc_Placeholder","divided","selection","map","idx","Structures_StructureListItem","key","borderRadius","position","Button","content","Auth","signOut","window","location","replace","getValueProps","newValProps","newProps","setValue","newVal","setNote","newNote","error","Note","setOpen","setTempVal","label","placeholder","modalTitle","modalDescription","Note_Trigger","Form","TextArea","rows","defaultValue","onChange","modalTtle","Trigger","theStr","len","Message","substring","tempVal","toggleOpen","RadioQuestion","hasNote","notePrompt","rVal","Field","Radio","defaultChecked","BDAMobile_questions_Note","branch","present","renderComponent","Content","Description","find","op","Extra","CardListListItem","image","text","subText","src","CardListPickerItem","selected","toggleValue","Card","link","modalOpen","toggleModal","setModal","val","multiple","newValues","Array","isArray","slice","index","push","splice","CardListPicker_CardListListItem","CardListPicker_CardListPickerItem","Modal","closeIcon","onClose","centered","Responsive","Group","itemsPerRow","Actions","geomorphicResponse","component","CardListPicker","hasNotes","TextField","Input","newval","questions_DropDownQuestion","printValues","otherProps","newOptions","optionvals","extraVals","v","dropdownProps","Dropdown","withFormWrapper","WrappedComponent","InnerComponent","selectorType","iconPosition","popupPosition","closable","Present","DateTimePicker","DateInput","DateTimeInput","designInfo","TimeInput","DatesRangeInput","DropDownQuestion","fluid","LocationPicker","loading","message","viewport","mapboxApiAccessToken","onViewportChange","Grid","columns","Row","Column","latitude","longitude","Dimmer","active","Loader","esm","mapStyle","offsetLeft","offsetTop","textShadow","positive","negative","zoom","_React$Component","Geolocation","_getPrototypeOf2","_this","classCallCheck","this","_len","args","_key","possibleConstructorReturn","getPrototypeOf","call","apply","inherits","createClass","_componentWillMount","asyncToGenerator","regenerator_default","mark","_callee","geolocation","_this2","wrap","_context","prev","next","navigator","Promise","resolve","getCurrentPosition","_ref3$coords","coords","sent","setState","stop","React","Component","config","env","process","GraphQLEndpoint","region","userPoolId","userPoolWebClientId","mandatorySignIn","cookieStorage","domain","path","expires","secure","positionalAttrib","existingFeatures","allowMultiple","structureDesign","search","allowAdditions","Track","trackNum","step","source","target","getTrackProps","dynamicStyle","left","percent","Tick","tick","count","marginLeft","d","Handle","disabled","_ref$domain","slicedToArray","max","_ref$handle","handle","getHandleProps","role","aria-valuemin","aria-valuemax","aria-valuenow","onMouseDown","onTouchStart","sliderStyle","CustomSlider","onUpdate","react_compound_slider_es","mode","rootStyle","values","getRailProps","handles","PercentSliders_Handle","tracks","PercentSliders_Track","tickVals","ticks","PercentSliders_Tick","_ref13","_ref12","_ref14","sliderValues","reduce","acc","_ref10","_ref11","newLevel","slKey","x","newLimiterThis","newSliderValues","_","cloneDeep","forEach","objKey","mustAddUp","PercentSliders_CustomSlider","Checkbox","GRADIENT","LocationGroup","loc","setLoc","marginTop","toggle","bText","newLoc","behavior","setBehavior","_ref3$value","_ref$value","FloodBehavior_LocationGroup","BDAMobile_sections","PercentSliders","FloodBehavior","Checkboxes","withFieldData","renderNothing","BDAMobile_Topbar","sections","item","paddingLeft","Divider","circular","preventDefault","require","withState","initProps","confirmStep","ConfirmMenu","newSections","stepHeaders","complete","Step","activeStep","completed","setActiveStep","setSidebarVisible","Title","steps","TopbarEditing","vertical","attached","ordered","marginBottom","Dimmable","blurring","display","FieldComponent","fixed","BDAMobile_views_TheFormComplex","StructureViewer","Tab","panes","menuItem","render","Pane","Structures","misc_AddButton","misc_RefreshStockButton","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","reducers","persistState","applyMiddleware","thunkMiddleware","Amplify","configure","deferredPrompt","client","AWSAppSyncClient","url","auth","jwtToken","_jwtToken","currentSession","abrupt","getAccessToken","getJwtToken","complexObjectsCredentials","currentCredentials","AppWithAuth","withAuthenticator","Homepage","addToHomeScreen","document","querySelector","prompt","userChoice","choiceResult","outcome","ReactDOM","es","react_apollo_browser_umd","aws_appsync_react_lib","getElementById","URL","origin","addEventListener","fetch","response","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","a2hsBtn","showAddToHomeScreen","userAgent","toLowerCase","test","isIos","standalone"],"mappings":"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","file":"static/js/main.34809808.chunk.js","sourcesContent":["import gql from 'graphql-tag'\nimport { graphql } from 'react-apollo'\nimport { v4 as uuid } from 'uuid'\n\nconst QueryListStructures = gql`\n  query listBDAPOCS {\n    listBDAPOCS {\n      items {\n        id\n        body\n        lastEdit\n      }\n    }\n  }\n`\n\nconst QueryGetStructure = gql`\n  query getBDAPOC($id:ID!){\n    getBDAPOC(id:$id) {\n      id\n      body\n      lastEdit\n    }\n  }\n`\n\nconst MutationCreateStructure = gql`\n  mutation createBDAPOC($input: CreateBDAPOCInput!) {\n    createBDAPOC(input: $input) {\n      id\n      body\n      lastEdit\n    }\n  }\n`\n\nconst MutationUpdateStructure = gql`\n  mutation updateBDAPOC($input: UpdateBDAPOCInput!) {\n    updateBDAPOC(input: $input) {\n      id\n      body\n      lastEdit\n    }\n  }\n`\n\nconst MutationDeleteStructure = gql`\n  mutation deleteBDAPOC($input: DeleteBDAPOCInput!) {\n    deleteBDAPOC(input: $input) {\n      id\n      body\n      lastEdit\n    }\n  }\n`\n\nexport const withGetStructure = graphql(QueryGetStructure, {\n  options: ({ pollInterval, editing }) => ({\n    fetchPolicy: 'cache-and-network',\n    // pollInterval: pollInterval || 5000\n    variables: { id: editing ? editing.guid : null }\n  }),\n  props: props => ({\n    // debug: console.log('this get structure', props),\n    structure: props.data.getBDAPOC ? {\n      ...props.data.getBDAPOC,\n      body: JSON.parse(props.data.getBDAPOC.body)\n    } : null\n  })\n})\n\nexport const withStructuresList = graphql(QueryListStructures, {\n  options: ({ pollInterval }) => ({\n    fetchPolicy: 'cache-and-network',\n    pollInterval: pollInterval || 5000\n  }),\n  props: props => ({\n    // debug: console.log('this query', props),\n    structures: props.data.listBDAPOCS ? props.data.listBDAPOCS.items : []\n  })\n})\n\nexport const withCreateStructure = graphql(\n  MutationCreateStructure,\n  {\n    options: {\n      update: (proxy, { data: { createBDAPOC } }) => {\n        const query = QueryListStructures\n        const data = proxy.readQuery({ query })\n        data.listBDAPOCS.items = [\n          ...data.listBDAPOCS.items.filter(struct => !createBDAPOC || struct.id !== createBDAPOC.id),\n          createBDAPOC\n        ]\n        console.log('update', { data, createBDAPOC })\n        proxy.writeQuery({ query, data })\n      }\n    },\n    props: ({ ownProps, mutate }) => ({\n      createStructure: structure => mutate({\n        variables: {\n          input: {\n            ...structure,\n            lastEdit: Math.round(new Date().getTime() / 1000)\n          }\n        },\n        optimisticResponse: () => ({\n          __typename: 'Mutation',\n          createBDAPOC: {\n            ...structure,\n            id: `pending${uuid()}`,\n            lastEdit: Math.round(new Date().getTime() / 1000),\n            __typename: 'BDAPOC'\n          }\n        })\n      })\n    })\n  }\n)\n\nexport const withDeleteStructure = graphql(\n  MutationDeleteStructure,\n  {\n    options: {\n      update: (proxy, { data: { deleteBDAPOC } }) => {\n        const query = QueryListStructures\n        const data = proxy.readQuery({ query })\n        data.listBDAPOCS.items = data.listBDAPOCS.items\n          .filter(struct => !deleteBDAPOC || struct.id !== deleteBDAPOC.id)\n        proxy.writeQuery({ query, data })\n      }\n    },\n    props: ({ ownProps, mutate }) => ({\n      deleteStructure: structure => mutate({\n        variables: { input: structure },\n        optimisticResponse: () => ({\n          __typename: 'Mutation',\n          deleteBDAPOC: {\n            ...structure,\n            __typename: 'BDAPOC'\n          }\n        })\n      })\n    })\n  }\n)\n","import { combineReducers } from 'redux'\nexport const actionConsts = {\n  EDIT_STRUCTURE: 'EDIT_STRUCTURE',\n  VIEW_STRUCTURE: 'VIEW_STRUCTURE',\n  BACK_TO_HOME: 'BACK_TO_HOME'\n}\n\n/**\n * Actions are actually just really simple objects\n */\nexport const actions = {\n  backToHome: () => ({ type: actionConsts.BACK_TO_HOME }),\n  editStructure: (guid) => ({ type: actionConsts.EDIT_STRUCTURE, guid }),\n  viewStructure: (guid) => ({ type: actionConsts.VIEW_STRUCTURE, guid })\n}\n\nconst defaultState = {\n  editing: null\n}\n\nconst editing = (state = defaultState.editing, action) => {\n  switch (action.type) {\n    case actionConsts.EDIT_STRUCTURE:\n      return {\n        guid: action.guid,\n        edit: true\n      }\n    case actionConsts.VIEW_STRUCTURE:\n      return {\n        guid: action.guid,\n        edit: false\n      }\n    case actionConsts.BACK_TO_HOME:\n      return null\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  editing\n})\n","import { compose, withHandlers, mapProps } from 'recompose'\nimport { actions } from './reducers'\nimport { connect } from 'react-redux'\n\nconst mapStateToFieldProps = (state, props) => {\n  const { editing, structures } = state\n  const { name } = props\n  let formGuid = ''\n  let currField = { value: '', note: '' }\n  try {\n    console.log('editing', { editing, structures })\n    currField = structures[editing.guid].fields[name] || {}\n    formGuid = editing.guid\n  }\n  catch (e) { }\n  return {\n    formGuid,\n    value: currField.value,\n    note: currField.note\n  }\n}\n\nexport const withFormState = compose(\n  connect(mapStateToFieldProps), // Once connect() is composed `dispatch` is prop.\n  // Make sure dispatch and formGuid never make it to the individual components\n  mapProps(({ formGuid, ...otherProps }) => otherProps)\n)\n\nconst mapStateToHomeProps = ({ editing }, props) => ({\n  editing\n})\n\n/**\n * HOMEPAGE state\n */\n\nexport const withReduxHome = compose(\n  connect(mapStateToHomeProps), // Once connect() is composed `dispatch` is prop.\n  withHandlers({\n    backToHome: ({ dispatch }) => () => {\n      console.log('backToHome called')\n      dispatch(actions.backToHome())\n    },\n    editStructure: ({ dispatch }) => (guid) => {\n      console.log('editStructure called', guid)\n      dispatch(actions.editStructure(guid))\n    },\n    viewStructure: ({ dispatch }) => (guid) => {\n      console.log('viewStructure called', guid)\n      dispatch(actions.viewStructure(guid))\n    }\n  })\n)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment'\nimport Swipeable from 'react-swipeable'\nimport { withDeleteStructure } from '../../../../graphql/queries'\nimport { withReduxHome } from '../../../../redux/withRedux'\nimport { List, Sidebar, Menu, Icon, Segment, Header, Confirm, Label } from 'semantic-ui-react'\nimport { compose, withStateHandlers, withProps } from 'recompose'\n\nconst StructureListItem = ({\n  structure: { id, lastedit, body }, color,\n  sidebarVisible, onSwipedRight, onSwipedLeft, editClick, itemClick, localOnly,\n  deleteConfirmVisible, deleteClick, deleteCancel, deleteConfirm\n}) => (\n  <Sidebar.Pushable as={List.Item}>\n    <Sidebar\n      style={{ overflow: 'hidden' }}\n      animation='push'\n      as={Menu}\n      icon='labeled'\n      inverted\n      direction='right'\n      color='red'\n      width='very thin'\n      visible={sidebarVisible === SIDEBARS.DELETE} >\n      <Menu.Item onClick={deleteClick} style={{ minWidth: '4em' }}>\n        <Icon name='trash' /> Delete\n      </Menu.Item>\n    </Sidebar>\n    <Sidebar\n      style={{ overflow: 'hidden' }}\n      animation='push'\n      as={Menu}\n      icon='labeled'\n      inverted\n      direction='left'\n      color='blue'\n      width='very thin'\n      visible={sidebarVisible === SIDEBARS.EDIT} >\n      <Menu.Item onClick={editClick} style={{ minWidth: '4em' }}>\n        <Icon name='edit' /> Edit\n      </Menu.Item>\n    </Sidebar>\n    <Sidebar.Pusher>\n      <Swipeable onSwipedLeft={onSwipedLeft} onSwipedRight={onSwipedRight}>\n        <Segment style={{ minHeight: 85 }} onClick={itemClick} basic >\n          { localOnly === true ? <Label icon='refresh' as='a' color='yellow' corner /> : null}\n          <Header inverted onClick={() => {}}>\n            {getHeader(JSON.parse(body))}\n          </Header>\n          {getMeta(JSON.parse(body))}\n          {console.log(localOnly)}\n        </Segment>\n      </Swipeable>\n    </Sidebar.Pusher>\n    <Confirm\n      header='Delete Structure?'\n      open={deleteConfirmVisible}\n      onCancel={deleteCancel}\n      onConfirm={deleteConfirm}\n      size='large'\n    />\n  </Sidebar.Pushable>\n)\n\nStructureListItem.propTypes = {\n  structure: PropTypes.object,\n  color: PropTypes.string,\n  localOnly: PropTypes.bool,\n  // recompose\n  sidebarVisible: PropTypes.number,\n  deleteConfirmVisible: PropTypes.bool,\n  onSwipedLeft: PropTypes.func,\n  onSwipedRight: PropTypes.func,\n  itemClick: PropTypes.func,\n  editClick: PropTypes.func,\n  deleteClick: PropTypes.func,\n  deleteCancel: PropTypes.func,\n  deleteConfirm: PropTypes.func\n  // from redux\n  // viewStructure: PropTypes.func\n}\n\nconst SIDEBARS = {\n  NONE: null,\n  DELETE: 1,\n  EDIT: -1\n}\n\nexport default compose(\n  withReduxHome,\n  withProps(({ structure: { id } }) => {\n    const localOnly = id.indexOf('pending') === 0\n    let color = null\n    if (localOnly === true) color = 'yellow'\n    // else if (!uploading && !uploaded && uploadFailed) color = 'red'\n    return { color, localOnly }\n  }),\n  withDeleteStructure,\n  withStateHandlers(\n    {\n      sidebarVisible: SIDEBARS.NONE,\n      deleteConfirmVisible: false\n    },\n    {\n      itemClick: ({ sidebarVisible }, { structure: { id }, viewStructure }) => (e) => {\n        console.log('click', e, sidebarVisible, id)\n        if (sidebarVisible !== SIDEBARS.NONE) return { sidebarVisible: SIDEBARS.NONE }\n        else {\n          viewStructure(id)\n        }\n      },\n      editClick: ({ sidebarVisible }, { structure: { id }, editStructure }) => (e) => {\n        console.log('click EDIT', e, sidebarVisible, id)\n        editStructure(id)\n      },\n      onSwipedLeft: ({ sidebarVisible }) => () => {\n        switch (sidebarVisible) {\n          case SIDEBARS.NONE:\n            return { sidebarVisible: SIDEBARS.DELETE }\n          case SIDEBARS.EDIT:\n            return { sidebarVisible: SIDEBARS.NONE }\n          default:\n            break\n        }\n      },\n      onSwipedRight: ({ sidebarVisible }) => () => {\n        switch (sidebarVisible) {\n          case SIDEBARS.NONE:\n            return { sidebarVisible: SIDEBARS.EDIT }\n          case SIDEBARS.DELETE:\n            return { sidebarVisible: SIDEBARS.NONE }\n          default:\n            break\n        }\n      },\n      closeMenu: () => (e) => {\n        e.stopPropagation() // Make sure we don't accidentally trigger  click\n        return { sidebarVisible: SIDEBARS.NONE }\n      },\n      deleteClick: () => () => ({ deleteConfirmVisible: true }),\n      deleteCancel: () => () => ({ deleteConfirmVisible: false, sidebarVisible: SIDEBARS.NONE }),\n      deleteConfirm: (state, { deleteStructure, structure }) => () => {\n        deleteStructure({ id: structure.id })\n        return { deleteConfirmVisible: false, sidebarVisible: SIDEBARS.NONE }\n      }\n    }\n  )\n)(StructureListItem)\n\n// <Label.Group className='projListDownloadLabels'>\n//   {/* { !uploaded && !uploadFailed && !uploading ? <Popup header='Not Uploaded' content='This structure has not been Uploaded'\n//     trigger={<Label icon='upload' as='a' color='yellow' content='Click to sync' onClick={() => uploadStructure(guid)} />}\n//   /> : null } */}\n//   { uploaded ? <Popup header='Uploaded!' content='This structure has been Uploaded'\n//     trigger={<Label color='green' icon='check' content='Synced' />}\n//   /> : null }\n//   { !uploading && !uploaded && uploadFailed ? <Popup header='Upload Error' content='Try uploading again!'\n//     trigger={<Label color='red' icon='bug' as='a' content='Sync error' onClick={() => { }} />}\n//   /> : null }\n//   { uploading ? <Popup header='Uploading...' content='Fingers crossed!'\n//     trigger={<Label icon={{ name: 'circle notch', loading: true }} content='Uploading...' />}\n//   /> : null }\n// </Label.Group>\n\n/**\n * Heler function to make the header nice\n */\nfunction getHeader (fields) {\n  try {\n    return fields.structureID.value\n  }\n  catch (e) {\n    return <span style={{ color: 'red' }} >NO NAME</span>\n  }\n}\n\n/**\n * Helper function to style the meta fields and date and stuff\n */\nfunction getMeta (fields) {\n  let observationDate\n  let designerName\n  try {\n    observationDate = moment(new Date(fields.observationDate.value))\n  }\n  catch (e) { }\n  try {\n    designerName = fields.designerName.value\n  }\n  catch (e) { }\n\n  return <div>\n    <div>{designerName ? <span>Designed by <strong>{designerName}</strong> </span> : null}</div>\n    <div style={{ fontSize: '0.9rem', color: '#888' }}>{observationDate ? <span> on <strong>{observationDate.format('dddd, MMMM Do') }</strong> </span> : null}</div>\n  </div>\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { AutoSizer } from 'react-virtualized'\nimport { Icon, Header, Image } from 'semantic-ui-react'\nimport { pure } from 'recompose'\nimport './Placeholder.css'\n\nconst Placeholder = pure(({\n  autoHeight, autoWidth, aspect, width, height,\n  className, json, description, title, icon, showSize\n}) => {\n  let finalHeight = height || autoHeight\n  let finalWidth = width || autoWidth\n\n  if (aspect) {\n    finalHeight = aspect * finalWidth\n  }\n\n  const minSize = Math.min(finalHeight, finalWidth)\n  const minIconFontSize = minSize * 6\n  const iconStyle = {\n    fontSize: `${minIconFontSize}%`\n    // marginTop: `${(height - minIconFontSize) / 2}px`\n  }\n\n  const widthText = `${finalWidth}px`\n  const heightText = `${finalHeight}px`\n  const style = {\n    maxWidth: widthText,\n    width: widthText,\n    height: heightText\n  }\n  const classes = ['myPlaceholder'].concat(className.split(' ')).join(' ')\n  return (\n    <Image className={classes} style={style}>\n      {icon ? <Icon name={icon} style={iconStyle} /> : null}\n      <div className='centered'>\n        {title ? <Header>{title.toString()}</Header> : null}\n        {showSize ? (\n          <div className='sizeText'>\n            {`${widthText} X ${heightText}`}\n          </div>\n        ) : null}\n        {description ? <p className='description'>{description}</p> : null}\n        {json ? (\n          <div className='json'><pre><code>\n            {JSON.stringify(json, null, 2)}\n          </code></pre></div>\n        ) : null}\n      </div>\n    </Image>\n  )\n})\n\nPlaceholder.propTypes = {\n  // from the autosizer component\n  autoHeight: PropTypes.number,\n  autoWidth: PropTypes.number,\n  className: PropTypes.string,\n  // These are passed in (maybe)\n  height: PropTypes.number,\n  width: PropTypes.number,\n  aspect: PropTypes.number,\n  json: PropTypes.object,\n  description: PropTypes.string,\n  icon: PropTypes.string,\n  showSize: PropTypes.bool,\n  title: PropTypes.string,\n  // from recompose\n  size: PropTypes.object\n}\nPlaceholder.defaultProps = {\n  className: ''\n}\n\nconst SizerWrapper = ({ minHeight, ...props }) => (\n  <div style={{\n    minHeight,\n    height: minHeight ? '100%' : null\n  }}>\n    <AutoSizer>\n      {({ height, width }) => (\n        <Placeholder autoHeight={height} autoWidth={width} {...props} />\n      )}\n    </AutoSizer>\n  </div>\n)\nSizerWrapper.displayName = 'Placeholder'\nexport default SizerWrapper\n","import StructureList from './StructureList'\n\nexport default StructureList\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { List } from 'semantic-ui-react'\nimport StructureListItem from './StructureListItem'\nimport Placeholder from '../../../misc/Placeholder'\n\nconst StructureList = ({ structures }) => (\n  <div className='structureList'>\n    { !structures || Object.keys(structures).length === 0\n      ? <Placeholder minHeight={400} icon='list' title='No Structures Found' />\n      : null }\n    <List divided selection>\n      {structures.map((structure, idx) => (\n        <StructureListItem structure={structure} key={`structItem${structure.id}`} />\n      ))}\n    </List>\n  </div>\n)\n\nStructureList.propTypes = {\n  structures: PropTypes.array\n}\n\nexport default StructureList\n","import React from 'react'\nimport { Auth } from 'aws-amplify'\nimport PropTypes from 'prop-types'\nimport { Menu, Icon, Button } from 'semantic-ui-react'\nimport { withReduxHome } from '../../redux/withRedux'\n\nconst Topbar = ({ editing, backToHome }) => (\n  <Menu icon inverted style={{ borderRadius: 0 }}>\n    {editing && editing.guid\n      ? <Menu.Item name='bars' onClick={() => backToHome()}>\n        <Icon name='arrow left' />\n      </Menu.Item>\n      : null\n    }\n    <Menu.Item header>Project Homepage</Menu.Item>\n    <Menu.Menu position='right'>\n      <Menu.Item>\n        <Button color='yellow' icon='lock open' inverted content='Log out' onClick={() => {\n          Auth.signOut()\n          // This is a hack to force the page to refresh\n          window.location.replace(window.location)\n        }} />\n        {/* <Icon name='rese' /> */}\n      </Menu.Item>\n    </Menu.Menu>\n  </Menu>\n)\n\nTopbar.propTypes = {\n  editing: PropTypes.object,\n  createStructure: PropTypes.func,\n  // from redux\n  backToHome: PropTypes.func\n}\n\nexport default withReduxHome(Topbar)\n","import { compose, withHandlers } from 'recompose'\nimport { withGetStructure } from './queries'\n\nexport default compose(\n  // Here's the query that gives us structure\n  withGetStructure,\n  // ONCE we mount the control we should initialize it\n  withHandlers({\n    getValueProps: ({ structure, ...props }) => (name) => {\n      let newValProps = {\n        value: null,\n        note: null\n      }\n      const newProps = {\n        setValue: newVal => {\n          console.log('setValue called', { structure, name, newVal })\n          // dispatch(actions.changeFieldValue(formGuid, name, newVal))\n        },\n        setNote: newNote => {\n          console.log('setNote called', { structure, name, newNote })\n          // dispatch(actions.changeFieldValue(formGuid, name, null, newNote))\n        }\n      }\n      try {\n        newValProps = structure.body[name]\n      }\n      catch (e) {\n        console.error(e)\n        console.log('HERE', { structure, props })\n      }\n\n      return Object.assign(newValProps, newProps)\n    }\n  })\n)\n\n/*  FROM THE REDUX\n\n    case actionConsts.CHANGE_FIELD_VALUE:\n      const oldVal = state[guid].fields[fieldName]\n      newState = _.cloneDeep(state)\n      const newVal = fieldValue || oldVal.value\n      const newNote = fieldNote || oldVal.note\n      newState[guid].fields[fieldName] = {\n        ...oldVal,\n        value: newVal,\n        note: newNote\n      }\n      return newState\n\n    case actionConsts.INIT_FIELD:\n      newState = _.cloneDeep(state)\n      const currField = newState[guid].fields[fieldName] || { value: null }\n\n      newState[guid].fields[fieldName] = {\n        value: currField.value,\n        section: fieldSection,\n        note: currField.note\n      }\n      return newState\n\n      */\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Message, TextArea, Confirm, Form, Icon, Segment } from 'semantic-ui-react'\nimport { compose, withStateHandlers } from 'recompose'\nimport './Note.css'\n\nconst Note = ({ name, value, open, setOpen, setValue, setTempVal, label, placeholder, modalTitle, modalDescription }) => (\n  <div>\n    <Trigger label={label} value={value} onClick={() => setOpen(true)} />\n    <Confirm\n      header={modalTitle}\n      open={open}\n      onCancel={() => setOpen(false)}\n      onConfirm={setValue}\n      content={(\n        <Segment basic>\n          <p>{modalDescription}</p>\n          <Form>\n            <TextArea name={name} placeholder={placeholder} rows={10} defaultValue={value} onChange={setTempVal} />\n          </Form>\n        </Segment>\n      )}\n    />\n  </div>\n\n)\n\nNote.defaultProps = {\n  name: 'NOTES',\n  label: 'Add a note...',\n  modalTtle: 'Add a note:'\n}\n\nNote.propTypes = {\n  name: PropTypes.string,\n  value: PropTypes.string,\n  open: PropTypes.bool,\n  label: PropTypes.string,\n  modalTitle: PropTypes.string,\n  placeholder: PropTypes.string,\n  modalDescription: PropTypes.string,\n  setOpen: PropTypes.func,\n  setValue: PropTypes.func,\n  setTempVal: PropTypes.func\n}\n\nconst Trigger = ({ label, value, onClick }) => (\n  <Message className='notesMessage' onClick={onClick}>\n    <Message.Header>\n      <Icon name='pencil' />{label}\n    </Message.Header>\n    {value && value.length > 0 ? (<span className='notesVal'>{getShortString(value, 66)}</span>) : ''}\n  </Message>\n)\n\nTrigger.propTypes = {\n  label: PropTypes.string,\n  value: PropTypes.string,\n  onClick: PropTypes.func\n}\n\nexport default compose(\n  withStateHandlers(\n    {\n      tempVal: '', // The value as it's changing\n      open: false\n    },\n    {\n      toggleOpen: ({ open }) => ({ open: !open }),\n      setOpen: () => (open) => ({ open }),\n      setTempVal: () => (e, { value }) => ({ tempVal: value }),\n      setValue: ({ tempVal }, { setValue }) => () => {\n        setValue(tempVal) // this goes to redux\n        return ({ open: false })\n      }\n    }\n  )\n)(Note)\n\n/**\n * Helper function to truncate a string\n */\nfunction getShortString (theStr, len) {\n  return theStr.length > len ? theStr.substring(0, len) + '...' : theStr\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Form, Radio, Header, Segment, Item } from 'semantic-ui-react'\nimport Note from './Note'\nimport { compose, branch, renderComponent } from 'recompose'\n\nexport const RadioQuestion = ({ title, name, options, value, hasNote, note, notePrompt, setValue, setNote }) => (\n  <Segment basic className='BDAFormField'>\n    <Header as='h3'>{title}</Header>\n    {options.map(({ label, value: rVal }, idx) => (\n      <Form.Field key={idx}>\n        <Radio\n          label={label}\n          name={name}\n          value={rVal}\n          defaultChecked={value && rVal === value}\n          onChange={() => setValue(rVal)}\n        />\n      </Form.Field>\n    ))}\n    {!hasNote ? null\n      : <Note\n        label={notePrompt}\n        value={note}\n        setValue={setNote}\n        modalTitle={`${title}: ${notePrompt}`}\n      />}\n  </Segment>\n)\n\nRadioQuestion.propTypes = {\n  title: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.object),\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]),\n  setValue: PropTypes.func,\n\n  // Now the note stuff\n  note: PropTypes.string,\n  notePrompt: PropTypes.string,\n  hasNote: PropTypes.bool,\n  setNote: PropTypes.func\n}\nRadioQuestion.defaultProps = {\n  setValue: () => console.log('setValue NOT SET'),\n  setNote: () => console.log('setNote NOT SET')\n}\n\nconst Present = ({ title, value, options, note }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        {value ? options.find(op => op.value === value).label\n          : <h4 style={{ color: 'red' }}>Not Entered</h4>}\n      </Item.Description>\n      {note ? <Item.Extra>Note: <em>{note}</em></Item.Extra> : null }\n    </Item.Content>\n  </Item>\n)\n\nPresent.propTypes = RadioQuestion.propTypes\n\nexport default compose(\n  branch(({ present }) => !!present, renderComponent(Present))\n)(RadioQuestion)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Note from './Note'\nimport { Image, Header, Segment, Card, Responsive, List, Modal, Button, Item, Icon } from 'semantic-ui-react'\nimport { compose, withStateHandlers, mapProps, branch, renderComponent } from 'recompose'\nimport Placeholder from '../../misc/Placeholder'\nimport './CardListPicker.css'\n\nconst CardListPicker = ({ title, options, hasNote, note, notePrompt, placeholder, value, setNote, toggleValue, modalOpen, setModal }) => {\n  const items = options.map((op, idx) => (\n    <CardListPickerItem\n      key={idx}\n      toggleValue={toggleValue}\n      selected={value && Array.isArray(value) && value.indexOf(op.value) > -1}\n      placeholder={placeholder}\n      {...op}\n    />))\n\n  return (\n    <Segment className='BDAFormField'>\n      <Header as='h3'>{title}</Header>\n      <Modal closeIcon id='cardListModal' open={modalOpen} onClose={() => setModal(false)} centered={false}>\n        <Modal.Header>Select a Photo</Modal.Header>\n        <Modal.Content>\n          <Responsive as='div' maxWidth={499}>\n            <Card.Group itemsPerRow={3} centered>\n              {items}\n            </Card.Group>\n          </Responsive>\n          <Responsive as='div' minWidth={500}>\n            <Card.Group itemsPerRow={4} centered>\n              {items}\n            </Card.Group>\n          </Responsive>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color='green' onClick={() => setModal(false)}>\n            <Icon name='checkmark' /> Ok\n          </Button>\n        </Modal.Actions>\n      </Modal>\n      <Button onClick={() => setModal(true)}>Choose...</Button>\n      <List onClick={() => setModal(true)}>\n        {options.filter(op => value.indexOf(op.value) === 0).map((op, idx) => <CardListListItem\n          key={idx}\n          selected={value.indexOf(op.value) === 0}\n          placeholder={placeholder}\n          {...op} />)}\n      </List>\n      {!hasNote ? null\n        : <Note\n          label={notePrompt}\n          value={note}\n          setValue={setNote}\n          modalTitle={`${title}: ${notePrompt}`}\n        />}\n    </Segment>\n  )\n}\n\nCardListPicker.propTypes = {\n  title: PropTypes.string,\n  value: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.string\n  ]),\n  toggleValue: PropTypes.func,\n  setModal: PropTypes.func,\n  options: PropTypes.array,\n  hasNotes: PropTypes.bool,\n  modalOpen: PropTypes.bool,\n  placeholder: PropTypes.object, // This is for design only\n\n  // Now the note stuff\n  note: PropTypes.string,\n  notePrompt: PropTypes.string,\n  hasNote: PropTypes.bool,\n  setNote: PropTypes.func\n}\n\nconst CardListListItem = ({ image, text, subText, placeholder }) => (\n  <List.Item>\n    {\n      placeholder\n        ? <Placeholder {...placeholder} minHeight={50} />\n        : <Image src={image} width='100' />\n    }\n    <List.Content>\n      <List.Header>{text}</List.Header>\n      {subText && subText.length > 0 ? <List.Description>{subText}</List.Description> : null }\n    </List.Content>\n  </List.Item>\n)\nCardListListItem.propTypes = {\n  image: PropTypes.string,\n  text: PropTypes.string,\n  subText: PropTypes.string,\n  placeholder: PropTypes.object // This is for design only\n}\n\nconst CardListPickerItem = ({ image, text, value, subText, selected, placeholder, toggleValue }) => (\n  <Card link onClick={() => toggleValue(value)} className={selected ? 'active' : ''}>\n    {\n      placeholder\n        ? <Placeholder {...placeholder} minHeight={200} />\n        : <Image src={image} width={200} />\n    }\n    <Card.Content>\n      <Card.Header>{text}</Card.Header>\n      {/* <Card.Meta>{tool.context}</Card.Meta> */}\n      {subText && subText.length > 0 ? <Card.Description>{subText}</Card.Description> : null }\n    </Card.Content>\n  </Card>\n)\n\nCardListPickerItem.propTypes = {\n  image: PropTypes.string,\n  value: PropTypes.string,\n  text: PropTypes.string,\n  subText: PropTypes.string,\n  toggleValue: PropTypes.func,\n  selected: PropTypes.bool,\n  placeholder: PropTypes.object // This is for design only\n}\n\nconst Present = ({ title, options, value, placeholder }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        <List >\n          {options.filter(op => value.indexOf(op.value) === 0).map((op, idx) => <CardListListItem\n            key={idx}\n            selected={value.indexOf(op.value) === 0}\n            placeholder={placeholder}\n            {...op} />)}\n        </List>\n      </Item.Description>\n    </Item.Content>\n  </Item>\n)\n\nPresent.propTypes = CardListPicker.propTypes\n\nexport default compose(\n  withStateHandlers(\n    {\n      modalOpen: false\n    },\n    {\n      toggleModal: ({ modalOpen }) => () => ({ modalOpen: !modalOpen }),\n      setModal: () => (val) => ({ modalOpen: val }),\n      toggleValue: (state, { value, multiple, setValue }) => val => {\n        if (multiple) {\n          let newValues = []\n          if (Array.isArray(value)) newValues = value.slice(0)\n\n          const index = newValues.indexOf(val)\n          if (index < 0) newValues.push(val)\n          else newValues.splice(index, 1)\n          setValue(newValues)\n        }\n        else {\n          setValue(val)\n          return { modalOpen: false }\n        }\n      }\n    }\n  ),\n  mapProps(props => ({\n    ...props,\n    value: props.value || []\n  })),\n  branch(({ present }) => !!present, renderComponent(Present))\n)(CardListPicker)\n","\nimport RadioQuestion from '../questions/RadioQuestion'\nimport CardListPicker from '../questions/CardListPicker'\n\nexport default {\n  title: 'Anticipated Geomorphic Responses',\n  description: 'What geomorphic response do you anticipate?',\n  fields: [\n    // Geomorphic Responses\n    {\n      component: RadioQuestion,\n      title: 'Pond Capacity (First Year Floods)',\n      name: 'pondCapacityFirstYear',\n      options: [\n        { label: 'Clean', value: 'CLEAN' },\n        { label: 'Minor Sedimentation', value: 'MINOR' },\n        { label: 'Partial Filling (up to 50% of original pond capacity)', value: 'PARTIAL' },\n        { label: 'Major Filling (up to 50% of original pond capacity)', value: 'MAJOR' },\n        { label: 'Full Sediment', value: 'FULL' }\n      ]\n    },\n\n    {\n      component: RadioQuestion,\n      title: 'Pond Capacity (If Big Floods)',\n      name: 'pondCapacityBigFlood',\n      options: [\n        { label: 'Clean', value: 'CLEAN' },\n        { label: 'Minor Sedimentation', value: 'MINOR' },\n        { label: 'Partial Filling (up to 50% of original pond capacity)', value: 'PARTIAL' },\n        { label: 'Major Filling (up to 50% of original pond capacity)', value: 'MAJOR' },\n        { label: 'Full Sediment', value: 'FULL' }\n      ]\n    },\n    {\n      component: CardListPicker,\n      title: 'Expected Dominant Substrate Upstream of Structure',\n      name: 'upstreamSubstrate',\n      options: [\n        { image: '/images/substrate/fines.png', value: 'Fines', text: 'Fines' },\n        { image: '/images/substrate/sand.png', value: 'Sands', text: 'Sands' },\n        { image: '/images/substrate/gravel.png', value: 'Gravels', text: 'Gravels' },\n        { image: '/images/substrate/cobble.png', value: 'Cobble', text: 'Cobble' },\n        { image: '/images/substrate/food_cache.png', value: 'Food Cache & Fines', text: 'Food Cache & Fines' }\n      ]\n    },\n\n    {\n      component: CardListPicker,\n      title: 'Expected Dominant Substrate Downstream of Structure',\n      name: 'downstreamSubstrate',\n      options: [\n        { image: '/images/substrate/fines.png', value: 'Fines', text: 'Fines' },\n        { image: '/images/substrate/sand.png', value: 'Sands', text: 'Sands' },\n        { image: '/images/substrate/gravel.png', value: 'Gravels', text: 'Gravels' },\n        { image: '/images/substrate/cobble.png', value: 'Cobble', text: 'Cobble' },\n        { image: '/images/substrate/food_cache.png', value: 'Food Cache & Fines', text: 'Food Cache & Fines' }\n      ]\n    },\n\n    {\n      component: CardListPicker,\n      title: 'Expected Geomorphic Units at Structure Location',\n      name: 'expectedUnitsAtStruct',\n      hasNotes: true,\n      options: [\n        { image: '/images/gut/planar_plane.png', value: 'Planar', text: 'Planar' },\n        { image: '/images/gut/convexity_mound.png', value: 'Convexity', text: 'Convexity (bar)' },\n        { image: '/images/gut/convexity_saddle.png', value: 'Saddle', text: 'Saddle (riffle)' },\n        { image: '/images/gut/concavity_bowl.png', value: 'Concavity', text: 'Concavity (true pool)' },\n        { image: '/images/gut/concavity_trough.png', value: 'Trough', text: 'Trough (shallow thalweg or chute)' },\n        { image: '/images/gut/planar_wall.png', value: 'WallEdge', text: 'Wall: Bank' },\n        { image: '/images/gut/planar_wall.png', value: 'WallBank', text: 'Wall: Edge' }\n      ]\n    },\n    {\n      component: RadioQuestion,\n      title: 'Expected Structural Elements at Structure Location',\n      name: 'expectedElementsAtStruct',\n      hasNotes: true,\n      options: [\n        { label: 'Roots', value: 'CLEAN' },\n        { label: 'Live Trees / Shrubs', value: 'MINOR' },\n        { label: 'Aquatic Vegetation', value: 'PARTIAL' },\n        { label: 'Boulder(s)', value: 'MAJOR' },\n        { label: 'Woody Debris', value: 'FULL' },\n        { label: 'Wall: Bank', value: 'FULL' },\n        { label: 'Wall: Bar Edge', value: 'FULL' }\n      ]\n    }\n  ]\n\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Form, Header, Segment, Input, Item } from 'semantic-ui-react'\nimport { compose, branch, renderComponent } from 'recompose'\n\nexport const TextField = ({ label, placeholder, type, value, setValue }) => (\n  <Segment basic className='BDAFormField'>\n    <Header as='h3'>{label}</Header>\n    <Form.Field>\n      <Input type={type}\n        defaultValue={value}\n        placeholder={placeholder}\n        onChange={(e, { value: newval }) => setValue(newval)} />\n    </Form.Field>\n  </Segment>\n)\n\nTextField.propTypes = {\n  label: PropTypes.string,\n  placeholder: PropTypes.string,\n  type: PropTypes.string,\n\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]),\n  setValue: PropTypes.func\n}\nTextField.defaultProps = {\n  setValue: () => console.log('setValue NOT SET')\n}\n\nconst Present = ({ label, value }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{label}</Item.Header>\n      <Item.Description>\n        {value || <h4 style={{ color: 'red' }}>Not Entered</h4>}\n      </Item.Description>\n    </Item.Content>\n  </Item>\n)\n\nPresent.propTypes = TextField.propTypes\n\nexport default compose(\n  branch(({ present }) => !!present, renderComponent(Present))\n)(TextField)\n","import React from 'react'\nimport PropTypes from 'prop-types'\n// import _ from 'lodash'\nimport { Dropdown, Segment, Header, Item } from 'semantic-ui-react'\nimport Note from './Note'\nimport { compose, branch, renderComponent, mapProps } from 'recompose'\n\nconst DropDownQuestion = ({\n  title, formGuid, hasNote, dispatch, note, notePrompt, present, setValue, setNote, ...dropdownProps\n}) => (\n  <Segment basic className='BDAFormField'>\n    <Header as='h3'>{title}</Header>\n    <Dropdown {...dropdownProps} onChange={(e, { value }) => setValue(value)} />\n    {!hasNote ? null\n      : <Note\n        label={notePrompt}\n        value={note}\n        setValue={setNote}\n        modalTitle={`${title}: ${notePrompt}`}\n      />}\n  </Segment>\n)\n\nDropDownQuestion.propTypes = {\n  title: PropTypes.string,\n  dropdownProps: PropTypes.object,\n\n  setValue: PropTypes.func,\n\n  // Now the note stuff\n  note: PropTypes.string,\n  notePrompt: PropTypes.string,\n  hasNote: PropTypes.bool,\n  setNote: PropTypes.func\n}\n\nconst Present = ({ title, value, options, note }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        {printValues(value, options)}\n      </Item.Description>\n      {note ? <Item.Extra>Note: <em>{note}</em></Item.Extra> : null }\n    </Item.Content>\n  </Item>\n)\nfunction printValues (value, options) {\n  if (Array.isArray(value) && value.length > 0) {\n    return (\n      <ul>\n        {\n          value.map((val, idx) => {\n            let text = val\n            try {\n              text = options.find(op => op.value === val).text\n            }\n            catch (e) {}\n            return (<li key={`item-${idx}`}>{text}</li>)\n          })\n        }\n      </ul>\n    )\n  }\n  else if (value && !Array.isArray(value)) {\n    return options.find(op => op.value === value).text\n  }\n  else {\n    return <h4 style={{ color: 'red' }}>Not Entered</h4>\n  }\n}\n\nPresent.propTypes = DropDownQuestion.propTypes\n\nexport default compose(\n  branch(({ present }) => !!present, renderComponent(Present)),\n  // Wrap setvalue because it can be multiples\n  mapProps(({ options, multiple, value, ...otherProps }) => {\n    let newVal\n    let newOptions = []\n    // dropdowns need a default state\n    if (multiple) {\n      newVal = Array.isArray(value) ? value : []\n      const optionvals = options.map(op => op.value)\n      const extraVals = newVal.filter(val => optionvals.indexOf(val) === -1)\n      newOptions = [...options, ...extraVals.map(v => ({ text: v, value: v }))]\n    }\n    else {\n      newVal = value || ''\n      newOptions = options\n    }\n\n    return {\n      ...otherProps,\n      multiple,\n      options: newOptions,\n      value: newVal\n    }\n  })\n)(DropDownQuestion)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { compose, branch, renderComponent } from 'recompose'\nimport { DateInput, TimeInput, DateTimeInput, DatesRangeInput } from 'semantic-ui-calendar-react'\nimport { Form, Header, Segment, Item } from 'semantic-ui-react'\n\nconst withFormWrapper = WrappedComponent => {\n  const InnerComponent = ({ selectorType, present, formGuid, title, value, setNote, setValue, ...props }) => (\n    <Segment basic className='BDAFormField'>\n      <Header as='h3'>{title}</Header>\n      <Form.Field>\n        <WrappedComponent\n          {...props}\n          value={value || ''}\n          onChange={(e, { value }) => setValue(value)} />\n      </Form.Field>\n    </Segment>\n  )\n  InnerComponent.displayName = `/components/DatePicker`\n  InnerComponent.propTypes = {\n    name: PropTypes.string,\n    title: PropTypes.string,\n    value: PropTypes.string,\n    placeholder: PropTypes.string,\n\n    iconPosition: PropTypes.string,\n    popupPosition: PropTypes.string,\n    closable: PropTypes.bool,\n    valueSet: PropTypes.func\n  }\n  InnerComponent.defaultProps = {\n    name: 'DATEPICKER',\n    iconPosition: 'left',\n    popupPosition: 'bottom left',\n    closable: true,\n    value: ''\n  }\n  return InnerComponent\n}\n\nconst Present = ({ title, value }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        {value || <h4 style={{ color: 'red' }}>Not Entered</h4>}\n      </Item.Description>\n    </Item.Content>\n  </Item>\n)\nPresent.propTypes = DateInput.propTypes\n\nexport const DatePicker = compose(\n  branch(({ present }) => !!present, renderComponent(Present)),\n  withFormWrapper\n)(DateInput)\nexport const DateTimePicker = compose(\n  branch(({ present }) => !!present, renderComponent(Present)),\n  withFormWrapper\n)(DateTimeInput)\nexport const TimePicker = compose(\n  branch(({ present }) => !!present, renderComponent(Present)),\n  withFormWrapper\n)(TimeInput)\nexport const DateRangePicker = compose(\n  branch(({ present }) => !!present, renderComponent(Present)),\n  withFormWrapper\n)(DatesRangeInput)\n","import RadioQuestion from '../questions/RadioQuestion'\nimport TextField from '../questions/TextField'\nimport DropDownQuestion from '../questions/DropDownQuestion'\nimport { DateTimePicker } from '../questions/DatePicker'\n\n// Design Info\nexport default {\n  title: 'Design Info',\n  description: 'Tell us something about your design',\n  fields: [\n    {\n      component: TextField,\n      name: 'designerName',\n      label: 'Designer Name(s):',\n      placeholder: 'Susan Andersen'\n    },\n    {\n      component: TextField,\n      name: 'structureID',\n      label: 'Structure ID:',\n      placeholder: 'COMPLEX_323123 ... 1233'\n    },\n    {\n      component: DateTimePicker,\n      name: 'observationDate',\n      title: 'Observation Date:'\n    },\n    {\n      component: TextField,\n      name: 'designVideo',\n      label: 'Design Video:',\n      type: 'url',\n      placeholder: 'https://youtu.be/SB-qEYVdvXA'\n    },\n    {\n      component: DropDownQuestion,\n      name: 'designFlowCondition',\n      title: 'Design Flow Conditions',\n      fluid: true,\n      selection: true,\n      options: [\n        { text: 'Baseflow', value: 'BASEFLOW' },\n        { text: 'Spring runoff', value: 'SPRING_RUNOFF' },\n        { text: 'Flood', value: 'FLOOD' },\n        { text: 'Post Flood', value: 'POST_FLOOW' }\n      ]\n    },\n    {\n      component: RadioQuestion,\n      name: 'designType',\n      title: 'Design Type',\n      options: [\n        { label: 'Beaver Dam Analogue', value: 'BDA' },\n        { label: 'Post Assisted Log Structure', value: 'PALS' },\n        { label: 'Unanchored/Pinned Wood Addition', value: 'UNANCHORED_WOOD' }\n      ]\n    }\n  ]\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport ReactMapGL, { Marker } from 'react-map-gl'\n\nimport { AutoSizer } from 'react-virtualized'\nimport { Segment, Header, Dimmer, Loader, Message, Icon, Grid, Input, Item } from 'semantic-ui-react'\nimport { compose, withHandlers, mapProps, branch, renderComponent } from 'recompose'\nimport mapStyle from './LocationPicker.style.json'\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\nconst LocationPicker = ({ title, loading, message, error, viewport, mapboxApiAccessToken, onViewportChange }) => {\n  let icon = <Icon name='circle notched' loading />\n  if (!loading) icon = <Icon name={error ? 'check times' : 'check circle'} />\n  // console.log('RENDER', viewport)\n  return (\n    <Segment className='BDAFormField'>\n      <Header as='h3'>{title}</Header>\n      <Grid columns={2}>\n        <Grid.Row>\n          <Grid.Column>\n            <Input fluid label='Lat:' placeholder='49.29949' value={viewport.latitude} />\n          </Grid.Column>\n          <Grid.Column>\n            <Input fluid label='Lng:' placeholder='-123.34234' value={viewport.longitude} />\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n      <div style={{ height: 400 }}>\n        <Dimmer active={loading}>\n          <Loader />\n        </Dimmer>\n        <AutoSizer>\n          {({ height, width }) => loading ? null : (\n            <ReactMapGL\n              height={height}\n              width={width}\n              mapStyle={mapStyle}\n              {...viewport}\n              onViewportChange={onViewportChange}\n              mapboxApiAccessToken={mapboxApiAccessToken}\n            >\n              {console.log('HERE', { loading, height, width })}\n              <Marker key={`marker-1`}\n                longitude={viewport.longitude}\n                latitude={viewport.latitude}\n                offsetLeft={-20} offsetTop={-10}\n              >\n                <Icon style={{ color: '#FFFFFF', textShadow: '0px 0px 2px #000000' }}\n                  name='map marker alternate'\n                  size='huge' />\n              </Marker>\n              {/* <Popup tipSize={5}\n                anchor='top'\n                longitude={viewport.longitude}\n                latitude={viewport.latitude} /> */}\n            </ReactMapGL>\n          )\n          }\n        </AutoSizer>\n      </div>\n      <Message positive={!loading && !error} negative={error} icon>\n        {icon}\n        <Message.Content>\n          <p>{error || message}</p>\n        </Message.Content>\n      </Message>\n\n    </Segment>\n  )\n}\n\nLocationPicker.propTypes = {\n  title: PropTypes.string,\n  viewport: PropTypes.object,\n  mapboxApiAccessToken: PropTypes.string,\n  onViewportChange: PropTypes.func,\n  loading: PropTypes.bool,\n  error: PropTypes.string,\n  message: PropTypes.string\n}\nLocationPicker.defaultProps = {\n  onViewportChange: () => console.log('onViewportChange NOT SET')\n}\n\nconst withGeolocation = (WrappedComponent) =>\n  class Geolocation extends React.Component {\n    state = {\n      loading: true,\n      message: 'Retrieving location data...'\n    }\n    static propTypes = {\n      viewport: PropTypes.object,\n      onViewportChange: PropTypes.func\n    }\n\n    async componentWillMount () {\n      const geolocation = navigator.geolocation\n      const location = await new Promise(resolve => {\n        if (!geolocation) {\n          resolve({\n            state: {\n              error: 'Not Supported'\n            }\n          })\n        }\n\n        geolocation.getCurrentPosition(\n          ({ coords: { latitude, longitude } }) => {\n            resolve({\n              viewport: Object.assign({}, this.props.viewport, {\n                latitude,\n                longitude\n              }),\n              state: {\n                loading: false,\n                message: 'Retrieved Location Data'\n              }\n            })\n          },\n          () => {\n            resolve({\n              state: {\n                loading: false,\n                error: 'Error retrieving location data from device.'\n              }\n            })\n          })\n      })\n      // console.log('SETSTATE', { ...location })\n      if (location.viewport) this.props.onViewportChange(location.viewport)\n      this.setState(location.state)\n    }\n\n    render () {\n      return <WrappedComponent {...this.props} {...this.state} />\n    }\n  }\n\nconst Present = ({ title, value }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title || 'Geolocation'}</Item.Header>\n      <Item.Description>\n        <pre><code>{JSON.stringify(value, null, 2)}</code></pre>\n      </Item.Description>\n    </Item.Content>\n  </Item>\n)\n\nPresent.propTypes = LocationPicker.propTypes\n\nexport default compose(\n  withHandlers({\n    onViewportChange: ({ value, setValue }) => newVal => {\n      console.log('GCD', { value, setValue, newVal })\n      setValue(newVal)\n    }\n  }),\n  mapProps(props => ({\n    ...props,\n    viewport: props.value || {\n      latitude: 49.29949,\n      longitude: -123.1528795,\n      zoom: 17\n    }\n  })),\n  branch(({ present }) => !!present, renderComponent(Present)),\n  withGeolocation\n)(LocationPicker)\n","/**\n * NOTE: This gets checked into Git. Nothing secret should go here\n */\nexport const AuthStates = {\n  unknown: 'unknown', // This is the initial state\n  unauthenticated: 'unauthenticated',\n  signingOut: 'signingOut',\n  signedOut: 'signedOut',\n  signingIn: 'signingIn',\n  signedIn: 'signedIn',\n  mfaRequired: 'mfaRequired',\n  newPasswordRequired: 'newPasswordRequired'\n}\n\n// Need to supply a mapbox token (it's not secret. Putting it in git is fine)\nexport const mapBoxToken = process.env.REACT_APP_MAPBOX_TOKEN\n\nlet domain = process.env.REACT_APP_DOMAIN\nif (process.env.NODE_ENV && process.env.NODE_ENV === 'development') {\n  domain = 'localhost'\n}\n\nexport default {\n  env: process.env.NODE_ENV,\n  GraphQLEndpoint: process.env.REACT_APP_GRAPHQL,\n  // Cognito stuff\n  Auth: {\n    // REQUIRED only for Federated Authentication - Amazon Cognito Identity Pool ID\n    // identityPoolId: 'XX-XXXX-X:XXXXXXXX-XXXX-1234-abcd-1234567890ab',\n\n    // REQUIRED - Amazon Cognito Region\n    region: process.env.REACT_APP_AWS_REGION,\n\n    // OPTIONAL - Amazon Cognito Federated Identity Pool Region\n    // Required only if it's different from Amazon Cognito Region\n    // identityPoolRegion: 'XX-XXXX-X',\n\n    // OPTIONAL - Amazon Cognito User Pool ID\n    userPoolId: process.env.REACT_APP_USER_POOL_ID,\n\n    // OPTIONAL - Amazon Cognito Web Client ID (26-char alphanumeric string)\n    userPoolWebClientId: process.env.REACT_APP_COGNITO_CLIENT,\n\n    // OPTIONAL - Enforce user authentication prior to accessing AWS resources or not\n    mandatorySignIn: true,\n\n    // OPTIONAL - Configuration for cookie storage\n    cookieStorage: {\n      // REQUIRED - Cookie domain (only required if cookieStorage is provided)\n      domain: `${domain}`,\n      // OPTIONAL - Cookie path\n      path: process.env.REACT_APP_COOKIEPATH || null,\n      // OPTIONAL - Cookie expiration in days\n      expires: 20,\n      // OPTIONAL - Cookie secure flag (requires HTTP)\n      secure: true\n    }\n\n    // OPTIONAL - customized storage object\n    // storage: new MyStorage(),\n\n    // OPTIONAL - Manually set the authentication flow type. Default is 'USER_SRP_AUTH'\n    // authenticationFlowType: 'USER_PASSWORD_AUTH'\n  }\n}\n","import RadioQuestion from '../questions/RadioQuestion'\nimport TextField from '../questions/TextField'\n\nimport LocationPicker from '../questions/LocationPicker'\nimport { mapBoxToken } from '../../../config'\n\nexport default {\n  title: 'Positional Attributes',\n  description: 'The position of your structure',\n  fields: [\n    {\n      component: LocationPicker,\n      name: 'location',\n      mapboxApiAccessToken: mapBoxToken\n    },\n    {\n      component: RadioQuestion,\n      name: 'structureChannelLocation',\n      title: 'Structure Location Relative to Channel(s)',\n      options: [\n        { label: 'On Main Channel', value: 'MAIN_CHANNEL' },\n        { label: 'On Right Side Channel(s)', value: 'RIGHT_SIDE_CHANNEL' },\n        { label: 'On Left Side Channel(s)', value: 'LEFT_SIDE_CHANNEL' },\n        { label: 'On Right Floodplain', value: 'FLOODPLAIN_L' },\n        { label: 'On Left Floodplain', value: 'FLOODPLAIN_R' }\n      ]\n    },\n    {\n      component: TextField,\n      name: 'complex',\n      label: 'Complex:',\n      placeholder: 'COMPLEX_323123 ... 1233'\n    },\n    {\n      component: RadioQuestion,\n      name: 'complexExtended',\n      options: [\n        { label: 'Part of new dam complex', value: 'NEW_DAM_COMPLEX' },\n        { label: 'Expansion of existing dam complex', value: 'EXPANSION' },\n        { label: 'NA - Isolated Dam', value: 'NA_ISOLATED_DAM' },\n        { label: 'NA - Non-Dam', value: 'NA_NON_DAM' }\n      ]\n    }\n  ]\n}\n","\nimport CardListPicker from '../questions/CardListPicker'\n\nexport default {\n  title: 'Existing Features',\n  description: 'are there any existing features?',\n\n  fields: [\n  // ExistingFeatures\n    {\n      component: CardListPicker,\n      title: 'Expected Geomorphic Units at Structure Location',\n      name: 'expectedUnits',\n      hasNote: true,\n      allowMultiple: true,\n      options: [\n        { image: '/images/gut/planar_plane.png', value: 'Planar', text: 'Planar' },\n        { image: '/images/gut/convexity_mound.png', value: 'Convexity', text: 'Convexity (bar)' },\n        { image: '/images/gut/convexity_saddle.png', value: 'Saddle', text: 'Saddle (riffle)' },\n        { image: '/images/gut/concavity_bowl.png', value: 'Concavity', text: 'Concavity (true pool)' },\n        { image: '/images/gut/concavity_trough.png', value: 'Trough', text: 'Trough (shallow thalweg or chute)' },\n        { image: '/images/gut/planar_wall.png', value: 'WallEdge', text: 'Wall: Bank' },\n        { image: '/images/gut/planar_wall.png', value: 'WallBank', text: 'Wall: Edge' }\n      ]\n    },\n    {\n      component: CardListPicker,\n      title: 'Structural Elements at Structure Location',\n      name: 'elementsAtLocation',\n      hasNote: true,\n      allowMultiple: true,\n      placeholder: {\n        icon: 'image outline',\n        aspect: 1\n      },\n      options: [\n        {\n          value: `Roots`,\n          text: `Roots`,\n          subText: `some explanation`\n        },\n        {\n          value: `Live Trees/Shrubs`,\n          text: `Live Trees/Shrubs`,\n          subText: `some explanation`\n        },\n        {\n          value: `Aquatic Vegetation`,\n          text: `Aquatic Vegetation`,\n          subText: `some explanation`\n        },\n        {\n          value: `Boulder(s)`,\n          text: `Boulder(s)`,\n          subText: `some explanation`\n        },\n        {\n          value: `Woody Debris`,\n          text: `Woody Debris`,\n          subText: `some explanation`\n        },\n        {\n          value: `Wall: Bank`,\n          text: `Wall: Bank`,\n          subText: `some explanation`\n        },\n        {\n          value: `Wall: Bar Edge`,\n          text: `Wall: Bar Edge`,\n          subText: `some explanation`\n        }\n      ]\n    }\n  ]\n}\n","import RadioQuestion from '../questions/RadioQuestion'\nimport TextField from '../questions/TextField'\nimport DropDownQuestion from '../questions/DropDownQuestion'\n\n// mostly just for debugging\nexport default {\n  title: 'Structure Design',\n  description: 'The structure of your design',\n  fields: [\n    {\n      component: RadioQuestion,\n      title: 'Structure Position',\n      name: 'structurePosition',\n      options: [\n        { label: 'River Right Margin Attached', value: 'RIVER_RIGHT_MARGIN_ATTACHED' },\n        { label: 'River Left Margin Attached', value: 'RIVER_LEFT_MARGIN_ATTACHED' },\n        { label: 'Channel Spanning (i.e. BDA or Debris Jam)', value: 'SPANNING' },\n        { label: 'Mid Channel', value: 'MID_CHANNEL' }\n      ]\n    },\n    {\n      component: RadioQuestion,\n      title: 'Structure Orientation',\n      name: 'structureOrientation',\n      options: [\n        { label: 'Perpendicular to Flow', value: 'PERPENDICULAR' },\n        { label: 'Angled Flow Downstream', value: 'ANGLED_DOWN' },\n        { label: 'Angled Flow Upstream', value: 'ANGLED_UP' },\n        { label: 'Diamond', value: 'DIAMOND' },\n        { label: 'Triangle Pointing Upstream', value: 'TRIANGLE_UP' },\n        { label: 'Triangle Pointing DownStrream', value: 'TRIANGLE_DOWN' }\n      ]\n    },\n    {\n      component: RadioQuestion,\n      title: 'Channel Constriction (% of Bankfull Width)',\n      name: 'channelConstriction',\n      options: [\n        { label: '100% BFW', value: '100' },\n        { label: '95-99%', value: '95T99' },\n        { label: '85-95%', value: '85T95' },\n        { label: '75-85%', value: '75T85' },\n        { label: '50-75%', value: '50T75' },\n        { label: '< 25%', value: 'LT25' }\n      ]\n    },\n    {\n      component: TextField,\n      name: 'numPosts',\n      label: 'Number of Posts',\n      placeholder: '1,2,3',\n      type: 'number'\n    },\n    {\n      component: DropDownQuestion,\n      title: 'Structure Materials',\n      name: 'structureMaterials',\n      fluid: true,\n      multiple: true,\n      search: true,\n      selection: true,\n      allowAdditions: true,\n      placeholder: 'Choose all that apply...',\n      options: [\n        { text: 'Willow Weave', value: 'Willow Weave' },\n        { text: 'Key piece (completely limbed)', value: 'Key piece (completely limbed)' },\n        { text: 'Key piece (limbed on bottom side only)', value: 'Key piece (limbed on bottom side only)' },\n        { text: 'Root wad', value: 'Root wad' },\n        { text: 'Small Woody Debris', value: 'Small Woody Debris' },\n        { text: 'Woody branches (single limbed) > 15cm diameter', value: 'Woody branches (single limbed) > 15cm diameter' },\n        { text: 'Woody branches (single limbed) < 15cm diameter', value: 'Woody branches (single limbed) < 15cm diameter' },\n        { text: 'Mud', value: 'Mud' },\n        { text: 'Grass / Reeds', value: 'Grass / Reeds' },\n        { text: 'Other organic', value: 'Other organic' },\n        { text: 'Cobble or Boulders', value: 'Cobble or Boulders' },\n        { text: '203 Guy Woddy Debris', value: '203 Guy Woddy Debris' },\n        { text: 'Turf', value: 'Turf' },\n        { text: 'Dowelled or Twine tied Simple Logs', value: 'Dowelled or Twine tied Simple Logs' }\n      ]\n    },\n    {\n      component: RadioQuestion,\n      name: 'materialSources',\n      options: [\n        { label: 'Material Sourced on site', value: 'ONSITE' },\n        { label: 'Materials Imported', value: 'IMPORTED' }\n      ]\n    },\n    {\n      component: TextField,\n      name: 'maxStrucHeight',\n      label: 'Max dam/structure height (m) ±0.1m',\n      placeholder: '2.4',\n      type: 'text'\n    },\n    {\n      component: TextField,\n      name: 'maxPondDepth',\n      label: 'Max pond depth (m if applicable) ±0.1m',\n      placeholder: '2.4',\n      type: 'text'\n    },\n    {\n      component: TextField,\n      name: 'waterSurfDiff',\n      label: 'Water surface difference (m if applicable) ±0.1m',\n      placeholder: '2.4',\n      type: 'text'\n    },\n    {\n      component: TextField,\n      name: 'structLength',\n      label: 'Structure Length (m) ±1.0m',\n      placeholder: '3.0',\n      type: 'text'\n    }\n\n  ]\n\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Track = ({ trackNum, step, source, target, getTrackProps }) => {\n  const classes = ['sliderTrack']\n  const dynamicStyle = {\n    left: `${source.percent}%`,\n    width: `${target.percent - source.percent}%`\n  }\n  if (trackNum === 2) {\n    classes.push('limiter')\n    // console.log('YOWZA', target.percent, source.percent)\n    if (target.percent < 100 + step) {\n      dynamicStyle.left = `${source.percent - step}%`\n      dynamicStyle.width = `${target.percent - source.percent + step}%`\n    }\n  }\n  else if (trackNum === 0) {\n    classes.push('progress')\n  }\n\n  return (\n    <div className={classes.join(' ')} style={dynamicStyle}\n      // {...getTrackProps()}\n    />\n  )\n}\n\nTrack.propTypes = {\n  trackNum: PropTypes.number,\n  step: PropTypes.number,\n  source: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired,\n    percent: PropTypes.number.isRequired\n  }).isRequired,\n  target: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired,\n    percent: PropTypes.number.isRequired\n  }).isRequired,\n  getTrackProps: PropTypes.func.isRequired\n}\n\nexport default Track\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\n// *******************************************************\n// TICK COMPONENT\n// *******************************************************\nconst Tick = ({ tick, count, format }) => (\n  <div>\n    <div className='sliderTick' style={{ left: `${tick.percent}%` }} />\n    <div className='sliderTickNum'\n      style={{\n        marginLeft: `${-(100 / count) / 2}%`,\n        width: `${100 / count}%`,\n        left: `${tick.percent}%`\n      }} >\n      {format(tick.value)}\n    </div>\n  </div>\n)\n\nTick.propTypes = {\n  tick: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired,\n    percent: PropTypes.number.isRequired\n  }).isRequired,\n  count: PropTypes.number.isRequired,\n  format: PropTypes.func.isRequired\n}\n\nTick.defaultProps = {\n  format: d => d\n}\n\nexport default Tick\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\n// *******************************************************\n// HANDLE COMPONENT\n// *******************************************************\nconst Handle = ({\n  disabled,\n  domain: [min, max],\n  handle: { id, value, percent },\n  getHandleProps\n}) => (\n  <div className={`sliderHandle${disabled ? ' disabled' : ''}`}\n    role='slider'\n    aria-valuemin={min}\n    aria-valuemax={max}\n    aria-valuenow={value}\n    style={{\n      left: `${percent}%`\n    }}\n    {...getHandleProps(id)}\n    onMouseDown={disabled ? null : getHandleProps(id).onMouseDown}\n    onTouchStart={disabled ? null : getHandleProps(id).onTouchStart}\n  />\n)\n\nHandle.propTypes = {\n  disabled: PropTypes.bool,\n  domain: PropTypes.array.isRequired,\n  handle: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired,\n    percent: PropTypes.number.isRequired\n  }).isRequired,\n  getHandleProps: PropTypes.func.isRequired\n}\n\nexport default Handle\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport _ from 'lodash'\nimport { Segment, Header, Item } from 'semantic-ui-react'\nimport { Slider, Rail, Handles, Tracks, Ticks } from 'react-compound-slider'\nimport { compose, withStateHandlers, branch, renderComponent } from 'recompose'\nimport Track from './Track'\nimport Tick from './Tick'\nimport Handle from './Handle'\nimport './PercentSlider.css'\n\nconst STEP = 5\n\nconst PercentSliders = ({ title, mustAddUp, options, onUpdate, onChange, sliderValues }) => (\n  <div className='BDAFormField'>\n    <Header as='h3'>{title}</Header>\n    <Segment basic>\n      {mustAddUp ? <p><em>(Must add to 100%)</em></p> : null}\n      {options.map(({ label, name }, idx) => (\n        <CustomSlider\n          name={name}\n          label={label}\n          onUpdate={(values) => onUpdate({ name, values })}\n          // onChange={(values) => onUpdate({  })}\n          key={idx}\n          step={STEP}\n          domain={[0, 100 + STEP]}\n          value={sliderValues[name] ? sliderValues[name] : [0, 100 + STEP]} />\n      ))}\n    </Segment>\n  </div>\n)\n\nconst sliderStyle = {\n  position: 'relative',\n  width: '100%'\n}\n\nPercentSliders.propTypes = {\n  title: PropTypes.string,\n  mustAddUp: PropTypes.bool,\n  options: PropTypes.arrayOf(PropTypes.object),\n  onUpdate: PropTypes.func,\n  onChange: PropTypes.func,\n  sliderValues: PropTypes.object\n}\n\nconst CustomSlider = ({ label, name, step, domain, value, onUpdate, onChange }) => (\n  <Slider className='sliderWrapper'\n    step={step}\n    mode={2}\n    domain={domain}\n    rootStyle={sliderStyle}\n    onUpdate={onUpdate}\n    onChange={onChange}\n    values={value} >\n    <Rail>\n      {({ getRailProps }) => (\n        <div className='sliderRail' {...getRailProps()}>\n          <Header as='h4'>{`${label}: ${value[0]}%`}</Header>\n        </div>\n      )}\n    </Rail>\n    <Handles>\n      {({ handles, getHandleProps }) => (\n        <div className='slider-handles'>\n          {handles.map((handle, idx) => (\n            <Handle\n              disabled={idx !== 0}\n              key={handle.id}\n              handle={handle}\n              domain={domain}\n              getHandleProps={getHandleProps}\n            />\n          ))}\n        </div>\n      )}\n    </Handles>\n    <Tracks>\n      {({ tracks, getTrackProps }) => (\n        <div className='slider-tracks'>\n          {tracks.map(({ id, source, target }, idx) => (\n            <Track\n              key={id}\n              trackNum={idx}\n              step={step}\n              source={source}\n              target={target}\n              getTrackProps={getTrackProps}\n            />\n          ))}\n        </div>\n      )}\n    </Tracks>\n    <Ticks values={tickVals}>\n      {({ ticks }) => (\n        <div className='slider-ticks'>\n          {ticks.map(tick => (\n            <Tick key={tick.id} tick={tick} count={ticks.length} />\n          ))}\n        </div>\n      )}\n    </Ticks>\n  </Slider>\n)\n\nCustomSlider.propTypes = {\n  label: PropTypes.string,\n  name: PropTypes.string,\n  step: PropTypes.number,\n  domain: PropTypes.arrayOf(PropTypes.number),\n  value: PropTypes.arrayOf(PropTypes.number)\n}\n\nconst tickVals = [ 10, 20, 30, 40, 50, 60, 70, 80, 90, 100 ]\n\n/**\n * This is where the meat of the function lives\n * @param {*} param0\n */\nconst handleValues = ({ sliderValues }, { setValue }) => ({ name, values }) => {\n  // Add everything together and figure out how much we have left\n  const max = Object.keys(sliderValues).map(slKey => sliderValues[slKey][0]).reduce((acc, x) => (acc + x), 0)\n  const newLevel = 100 - max + STEP\n\n  const maxNotThis = Object.keys(sliderValues).filter(x => x !== name).map(slKey => sliderValues[slKey][0]).reduce((acc, x) => (acc + x), 0)\n  const newLimiterThis = 100 - maxNotThis + STEP\n\n  const newSliderValues = _.cloneDeep(sliderValues)\n\n  if (!newSliderValues[name]) newSliderValues[name] = values\n\n  Object.keys(newSliderValues).forEach(objKey => {\n    if (name !== objKey) {\n      if (newLevel > newSliderValues[objKey][0] + STEP) newSliderValues[objKey][1] = newLevel\n      else {\n        newSliderValues[objKey][1] = newSliderValues[objKey][0] + STEP\n      }\n    }\n    else if (name === objKey) {\n      newSliderValues[objKey] = [values[0], newLimiterThis]\n    }\n    // if (objKey === 'OVER_TOP') console.log('WEIRD:', newSliderValues[objKey], newLevel)\n  })\n  // console.log('PROPS', name, values, newSliderValues[name])\n  setValue(Object.keys(newSliderValues).reduce((acc, key) => {\n    acc[key] = newSliderValues[key][0]\n    return acc\n  }, {}))\n  return { sliderValues: newSliderValues }\n}\n\nconst Present = ({ title, value }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        <pre><code>{JSON.stringify(value, null, 2)}</code></pre>\n      </Item.Description>\n    </Item.Content>\n  </Item>\n)\n\nPresent.propTypes = PercentSliders.propTypes\n\nexport default compose(\n  branch(({ present }) => !!present, renderComponent(Present)),\n  withStateHandlers(\n    ({ options }) => ({\n      sliderValues: options.reduce((acc, val) => {\n        acc[val.name] = [0, 100 + STEP]\n        return acc\n      }, {})\n    }),\n    {\n      onUpdate: handleValues\n      // onChange: () => ({ values, name }) => ({ values: Object.assign({}, values, { [name]: values }) })\n    }\n  )\n)(PercentSliders)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Form, Checkbox, Header, Segment, Item } from 'semantic-ui-react'\nimport Note from './Note'\nimport { compose, withHandlers, renderComponent, branch } from 'recompose'\n\nconst CheckboxQuestion = ({ title, options, hasNote, note, notePrompt, setNote, setValue }) => (\n  <Segment basic className='BDAFormField'>\n    <Header as='h3'>{title}</Header>\n    {options.map(({ label, value }, idx) => (\n      <Form.Field key={idx}>\n        <Checkbox label={label} value={value} onChange={() => setValue(value)} />\n      </Form.Field>\n    ))}\n    {!hasNote ? null\n      : <Note\n        label={notePrompt}\n        value={note}\n        setValue={setNote}\n        modalTitle={`${title}: ${notePrompt}`}\n      />}\n  </Segment>\n)\n\nCheckboxQuestion.propTypes = {\n  title: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.object),\n  // Now the note stuff\n  note: PropTypes.string,\n  notePrompt: PropTypes.string,\n  hasNote: PropTypes.bool,\n  setNote: PropTypes.func,\n\n  setValue: PropTypes.func\n}\n\nconst Present = ({ title, value, options, note }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{title}</Item.Header>\n      <Item.Description>\n        {value && Array.isArray(value) && value.length > 0\n          ? printValues(value, options)\n          : <h4 style={{ color: 'red' }}>Not Entered</h4>}\n      </Item.Description>\n      {note ? <Item.Extra>Note: <em>{note}</em></Item.Extra> : null }\n    </Item.Content>\n  </Item>\n)\nfunction printValues (value, options) {\n  return (\n    <ul>\n      {value.map((val, idx) => (<li key={`item-${idx}`}>{options.find(op => op.value === val).label}</li>)) }\n    </ul>\n  )\n}\n\nPresent.propTypes = CheckboxQuestion.propTypes\n\nexport default compose(\n  branch(({ present }) => !!present, renderComponent(Present)),\n  // Wrap setvalue because it can be multiples\n  withHandlers({\n    setValue: ({ value, setValue }) => (newVal) => {\n      let newValues = []\n      if (Array.isArray(value)) newValues = value.slice(0)\n\n      if (newValues.indexOf(newVal) < 0) newValues.push(newVal)\n      else newValues = newValues.splice(newValues.indexOf(newVal), 1)\n      setValue(newValues)\n    }\n  })\n)(CheckboxQuestion)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Segment, Button, Header, Item } from 'semantic-ui-react'\nimport { compose, withHandlers, mapProps, branch, renderComponent } from 'recompose'\nimport './FloodBehavior.css'\n\nconst GRADIENT = [\n  'green',\n  'yellow',\n  'orange',\n  'red'\n]\n\nconst FloodBehavior = ({ label, value: { location: loc, behavior }, setLoc, setBehavior }) => (\n  <Segment basic className='floodBehavior  BDAFormField'>\n    <Header as='h3'>{label}</Header>\n    <Button.Group fluid toggle className={'behave ' + (behavior && behavior.length > 0 ? 'set' : '')}>\n      {['Intact', 'Minor', 'Major', 'Blowout'].map((bText, idx) => (\n        <Button\n          key={`behav${idx}`}\n          onClick={() => {\n            if (bText === 'Intact' || bText === 'Blowout') setLoc([])\n            setBehavior(bText)\n          }\n          }\n          active={behavior && behavior === bText}\n          color={GRADIENT[idx]}>\n          {bText}\n        </Button>\n      ))}\n    </Button.Group>\n    {\n      !behavior || behavior === 'Intact' || behavior === 'Blowout' ? null\n        : <LocationGroup loc={loc} behavior={behavior} setLoc={setLoc} />\n\n    }\n  </Segment>\n)\n\nFloodBehavior.propTypes = {\n  label: PropTypes.string,\n  value: PropTypes.shape({\n    loc: PropTypes.array,\n    behavior: PropTypes.string\n  }),\n  setLoc: PropTypes.func,\n  setBehavior: PropTypes.func\n}\n\nconst LocationGroup = ({ loc, setLoc }) => (\n  <div style={{ marginTop: '2em' }}>\n    <Header as='h4'>Location: (select all that apply)</Header>\n    <Button.Group fluid toggle>\n      {['Left', 'Center', 'Basal', 'Right'].map((bText, idx) => {\n        return (\n          <Button\n            key={`loca${idx}`}\n            size='large'\n            onClick={() => {\n              let newLoc = []\n              if (loc && Array.isArray(loc)) newLoc = loc.splice(0)\n              if (newLoc.indexOf(bText) === -1) newLoc.push(bText)\n              else newLoc.splice(newLoc.indexOf(bText), 1)\n              setLoc(newLoc)\n            }}\n            active={loc && loc.indexOf(bText) > -1}>\n            {bText}\n          </Button>\n        )\n      })}\n    </Button.Group>\n  </div>\n)\n\nLocationGroup.propTypes = {\n  loc: PropTypes.array,\n  setLoc: PropTypes.func\n}\n\nconst Present = ({ label, value: { location: loc, behavior } }) => (\n  <Item>\n    <Item.Content>\n      <Item.Header as='h4'>{label}</Item.Header>\n      <Item.Description>\n        <ul>\n          <li>{behavior || <h4 style={{ color: 'red' }}>Behavior Not Entered</h4>}</li>\n          {\n            !behavior || behavior === 'Intact' || behavior === 'Blowout' ? null\n              : <li>{loc ? loc.join(', ') : <h4 style={{ color: 'red' }}>Location Not Entered</h4>}</li>\n          }\n        </ul>\n      </Item.Description>\n    </Item.Content>\n  </Item>\n)\n\nPresent.propTypes = FloodBehavior.propTypes\n\nexport default compose(\n  // Wrap setvalue because it can be multiples\n  withHandlers({\n    setLoc: ({ value, setValue }) => (newVal) => {\n      if (!value) setValue({ behavior: null, location: newVal })\n      else setValue({ ...value, location: newVal })\n    },\n    setBehavior: ({ value, setValue }) => (newVal) => {\n      if (!value) setValue({ behavior: newVal, location: null })\n      else setValue({ ...value, behavior: newVal })\n    }\n  }),\n  mapProps((props) => ({\n    ...props,\n    value: props.value ? props.value : { behavior: null, location: null }\n  })),\n  branch(({ present }) => !!present, renderComponent(Present))\n)(FloodBehavior)\n","import geomorphicResponse from './geomorphicResponse'\nimport designInfo from './designInfo'\nimport positionalAttrib from './positionalAttrib'\nimport existingFeatures from './existingFeatures'\nimport structureDesign from './structureDesign'\nimport hydraulicResponse from './hydraulicResponse'\n\nexport default [\n  designInfo,\n  positionalAttrib,\n  structureDesign,\n  existingFeatures,\n  hydraulicResponse,\n  geomorphicResponse\n]\n","\nimport RadioQuestion from '../questions/RadioQuestion'\nimport PercentSliders from '../questions/PercentSliders/PercentSliders'\nimport Checkboxes from '../questions/Checkboxes'\nimport FloodBehavior from '../questions/FloodBehavior'\n\nexport default {\n  title: 'Anticipated Hydraulic Response',\n  description: 'What do you expect to happen?',\n  fields: [\n    // HydraulicResponses\n    {\n      component: PercentSliders,\n      title: 'Channel Spanners:',\n      mustAddUp: true,\n      name: 'channelSpanners',\n      options: [\n        { label: 'Flow Over Top', name: 'OVER_TOP' },\n        { label: 'Basal Flow', name: 'BASAL' },\n        { label: 'Throughflow', name: 'THROUGHFLOW' },\n        { label: 'Flow Around Left', name: 'AROUND_LEFT' },\n        { label: 'Flow Around Right', name: 'AROUND_RIGHT' }\n      ]\n    },\n    {\n      component: PercentSliders,\n      title: 'Non-Channel Spanners:',\n      mustAddUp: true,\n      name: 'nonChannelSpanners',\n      options: [\n        { label: 'Shunted Flow Left', name: 'SHUNT_LEFT' },\n        { label: 'Shunted Flow Right', name: 'SHUNT_RIGHT' },\n        { label: 'Flow Through (sieve)', name: 'THROUGH' },\n        { label: 'Flow Over Top', name: 'OVER' },\n        { label: 'Flow Under Bottom', name: 'UNDER' }\n      ] },\n    {\n      component: FloodBehavior,\n      label: 'Typical Flood Behavior',\n      name: 'TypicalFlood'\n    },\n    {\n      component: FloodBehavior,\n      label: 'Big Flood Behavior',\n      name: 'BigFlood'\n\n    },\n    {\n      component: RadioQuestion,\n      title: 'Estimated Upstream Zone of Hydraulic Influence',\n      name: 'upstreamHydraulicInfluence',\n      options: [\n        { label: '< 1 BFW', value: '1' },\n        { label: '1-2 BFW', value: '1-2' },\n        { label: '2-5 BFW', value: '2-5' },\n        { label: '5-10 BFW', value: '5-10' },\n        { label: '> 10 BFW', value: '10-INF' }\n      ] },\n    {\n      component: RadioQuestion,\n      title: 'Estimated Downstream Zone of Hydraulic Influence',\n      name: 'downstreamHydraulicInfluence',\n      options: [\n        { label: '< 1 BFW', value: '1' },\n        { label: '1-2 BFW', value: '1-2' },\n        { label: '2-5 BFW', value: '2-5' },\n        { label: '5-10 BFW', value: '5-10' },\n        { label: '> 10 BFW', value: '10-INF' }\n      ]\n    },\n    {\n      component: Checkboxes,\n      title: 'Side Channel Forced',\n      name: 'sideChannelForced',\n      options: [\n        { label: 'None', value: 'None' },\n        { label: 'Single Left', value: 'Single Left' },\n        { label: 'Multiple Left', value: 'Multiple Left' },\n        { label: 'Single Right', value: 'Single Right' },\n        { label: 'Multiple Right', value: 'Multiple Right' }\n      ] },\n    {\n      component: RadioQuestion,\n      title: 'Pond Extend',\n      name: 'pondExtend',\n      options: [\n        { label: 'Contained within bankfull channel', value: 'Contained' },\n        { label: 'Expanding out onto floodplain', value: 'Expanding' },\n        { label: 'Drained', value: 'Drained' }\n      ]\n    },\n    {\n      component: Checkboxes,\n      title: 'Floodplain Inundation',\n      name: 'floodplainInundation',\n      options: [\n        { label: 'During Extreme Floods River Left', value: 'EXTREME_LEFT' },\n        { label: 'During Extreme Floods River Right', value: 'EXTREME_RIGHT' },\n        { label: 'During Seasonal Floods River Left', value: 'SEASONAL_LEFT' },\n        { label: 'During Seasonal Floods River Right', value: 'SEASONAL_RIGHT' },\n        { label: 'Year Round Inundation River Left', value: 'ALLYEAR_LEFT' },\n        { label: 'Year Round Inundation River Right', value: 'ALLYEAR_RIGHT' }\n      ]\n    }\n  ]\n\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Segment, Divider, Header } from 'semantic-ui-react'\nimport Topbar from '../Topbar'\nimport { withFormState } from '../../../redux/withRedux'\nimport withFieldData from '../../../graphql/withFieldData'\nimport { compose, branch, renderNothing } from 'recompose'\n// Import our form elements\nimport sections from '../sections'\n\n/**\n   * Same goes for the viewer\n   */\nconst StructureViewer = ({ structure, getValueProps }) => (\n  <div className='appContainer'>\n    <Topbar />\n    <Segment style={{ marginTop: 0, overflow: 'scroll' }} className='presentForm'>\n      {sections.map((item, idx) => (\n        <div className='section' key={`section-${idx}`}>\n          <Header>{item.title}</Header>\n          <div style={{ paddingLeft: '1.5rem' }}>\n            {item.fields.map(({ component: Component, name, ...props }, idx) => (\n              <Component key={`field-${idx}`} present name={name} {...props} {...getValueProps(name)} />\n            ))}\n            <Divider />\n          </div>\n        </div>\n      ))}\n    </Segment>\n  </div>\n)\n\nStructureViewer.propTypes = {\n  structure: PropTypes.object,\n  getValueProps: PropTypes.func\n}\n\nexport default compose(\n  withFormState,\n  withFieldData,\n  branch(({ structure }) => !structure, renderNothing)\n)(StructureViewer)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Button } from 'semantic-ui-react'\nimport { withCreateStructure } from '../../../graphql/queries'\n\nconst AddButton = ({ createStructure }) => (\n  <Button\n    className='addButton'\n    icon='plus'\n    circular\n    color='green'\n    onClick={(e) => {\n      e.preventDefault()\n      createStructure({ body: '{}' })\n    }}\n  />\n)\n\nAddButton.propTypes = {\n  createStructure: PropTypes.func\n}\n\nexport default withCreateStructure(AddButton)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Button } from 'semantic-ui-react'\nimport { withCreateStructure } from '../../../graphql/queries'\n\nconst RefreshStockButton = ({ createStructure }) => (\n  <Button\n    className='refreshButton'\n    icon='refresh'\n    content='Clear and refresh stock structures'\n    fluid\n    color='red'\n    onClick={(e) => {\n      // READ THE STOCK ENTRIES FROM A JSON FILE\n      const data = require('../views/data.json')\n      Object.values(data.structures).forEach(({ fields }) => {\n        createStructure({ body: JSON.stringify(fields) })\n      })\n      console.log('refresh', { data, createStructure })\n    }}\n  />\n)\n\nRefreshStockButton.propTypes = {\n  createStructure: PropTypes.func\n}\n\nexport default withCreateStructure(RefreshStockButton)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Step, Segment, Header, Divider, Responsive, Sidebar, Menu, Icon, Form, Dimmer, Button } from 'semantic-ui-react'\nimport { compose, withState, mapProps, pure } from 'recompose'\nimport { withReduxHome, withFormState } from '../../../redux/withRedux'\nimport withFieldData from '../../../graphql/withFieldData'\nimport './TheFormComplex.css'\n\nconst TheFormComplex = ({\n  activeStep, sections, stepHeaders, sidebarVisible,\n  getValueProps,\n  setSidebarVisible,\n  setActiveStep,\n  setValue,\n  setNote\n}) => (\n  <div style={{ height: '100%' }}>\n    <TopbarEditing\n      activeStep={activeStep}\n      sidebarVisible={sidebarVisible}\n      sections={sections}\n      setSidebarVisible={setSidebarVisible}\n      setActiveStep={setActiveStep} />\n    <Sidebar.Pushable as='div'>\n      <Sidebar\n        as={Menu}\n        animation='overlay'\n        icon='labeled'\n        inverted\n        // onHide={this.handleSidebarHide}\n        vertical\n        visible={sidebarVisible}\n        width='wide' >\n        <Step.Group attached='top' style={{ marginTop: '40px' }}\n          vertical\n          ordered size='mini'\n          fluid>\n          {stepHeaders}\n        </Step.Group>\n      </Sidebar>\n\n      <Sidebar.Pusher style={{ marginTop: '40px', marginBottom: '80px' }}>\n        <Dimmer.Dimmable as={Segment} attached blurring>\n          <Dimmer active={sidebarVisible} onClick={() => setSidebarVisible(false)} />\n          <Responsive maxWidth='800'>\n            <p>{sections[activeStep] && sections[activeStep].description}</p>\n            <Divider />\n          </Responsive>\n          <Form>\n            {sections.map((item, idx) => (\n              <div key={`stepComp${idx}`} style={{ display: (activeStep === idx) || (!activeStep && idx === 0) ? '' : 'none' }}>\n                <div key={`sectionlabel-${idx}`}>\n                  {item.fields.map(({ component: FieldComponent, name, ...props }, idx) => (\n                    <FieldComponent key={`field-${idx}`}\n                      {...props}\n                      {...getValueProps(name)}\n                    />\n                  ))}\n                </div>\n              </div>\n            ))}\n          </Form>\n        </Dimmer.Dimmable>\n      </Sidebar.Pusher>\n    </Sidebar.Pushable>\n    <Menu icon style={{ borderRadius: 0 }} fixed='bottom' inverted color='blue'>\n      <Menu.Menu position='right'>\n        {\n          activeStep < 1 ? null : (\n            <Menu.Item onClick={() => {\n              setActiveStep(activeStep - 1)\n              setSidebarVisible(false)\n            }\n            }>\n              <Icon name='arrow circle left' />Previous Step\n            </Menu.Item>\n          )\n        }\n        {\n          activeStep >= sections.length - 1 ? null : (\n            <Menu.Item onClick={() => {\n              setActiveStep(activeStep + 1)\n              setSidebarVisible(false)\n            }\n            }>\n                      Next Step<Icon name='arrow circle right' />\n            </Menu.Item>\n          )\n        }\n      </Menu.Menu>\n    </Menu>\n  </div>\n)\n\nTheFormComplex.propTypes = {\n  activeStep: PropTypes.number,\n  sections: PropTypes.array,\n  sidebarVisible: PropTypes.bool,\n  setSidebarVisible: PropTypes.func,\n  setActiveStep: PropTypes.func,\n  stepHeaders: PropTypes.arrayOf(PropTypes.node),\n  // From recompose\n  getValueProps: PropTypes.func,\n  setValue: PropTypes.func,\n  setNote: PropTypes.func\n}\n\nexport default compose(\n  withFormState,\n  withFieldData,\n  pure,\n  withState('activeStep', 'setActiveStep', 0),\n  withState('sidebarVisible', 'setSidebarVisible', false),\n  mapProps(initProps => {\n    const confirmStep = {\n      title: 'Confirmation',\n      description: 'Make sure everything is right',\n      Component: () => (\n        <div className='presentForm'>\n          {initProps.sections.map(({ Component }, idx) => <Component present key={`presentComponent${idx}`} />)}\n          <ConfirmMenu />\n        </div>\n      )\n    }\n    const newSections = [...initProps.sections, confirmStep] //\n\n    const stepHeaders = newSections.map(({ title, description, complete }, idx) => (\n      <Step link key={idx}\n        active={idx === initProps.activeStep}\n        completed={!!complete} onClick={() => {\n          initProps.setActiveStep(idx)\n          initProps.setSidebarVisible(false)\n        }\n        }>\n        <Step.Content>\n          <Step.Title>{title}</Step.Title>\n          <Step.Description>{description}</Step.Description>\n        </Step.Content>\n      </Step>\n    ))\n\n    return {\n      ...initProps,\n      steps: [...newSections],\n      stepHeaders: [...stepHeaders] // confirmHeader\n    }\n  })\n)(TheFormComplex)\n\nconst ConfirmMenu = withReduxHome(({ editing: { guid }, backToHome }) => (\n  <Menu icon style={{ borderRadius: 0 }}>\n    <Menu.Menu position='right'>\n      <Menu.Item>\n        <Button content='Cancel' color='red' icon='ban' onClick={() => {\n          // deleteStructure(guid)\n          backToHome()\n        }} />\n      </Menu.Item>\n      <Menu.Item>\n        <Button content='Save' color='green' icon='save' onClick={backToHome} />\n      </Menu.Item>\n    </Menu.Menu>\n  </Menu>\n))\n\nconst TopbarEditing = withReduxHome(({ backToHome, activeStep, sidebarVisible, sections, setSidebarVisible, setActiveStep }) => (\n  <Menu className='theFormComplexMenu' fixed='top' icon inverted style={{ borderRadius: 0 }} color='blue'>\n    <Menu.Item onClick={backToHome} color='black'>\n      <Icon name='home' />\n    </Menu.Item>\n    <Menu.Item name='bars' onClick={() => setSidebarVisible(!sidebarVisible)}>\n      <Icon name='bars' />\n    </Menu.Item>\n    <Menu.Item style={{ maxWidth: '48%' }}>\n      <Header as='div' style={{ fontSize: '0.8rem' }} inverted>Step {activeStep + 1}: {sections[activeStep].title}</Header>\n    </Menu.Item>\n    <Menu.Menu position='right'>\n      {\n        activeStep < 1 ? null : (\n          <Menu.Item onClick={() => {\n            setActiveStep(activeStep - 1)\n            setSidebarVisible(false)\n          }\n          }>\n            <Icon name='arrow circle left' />\n          </Menu.Item>\n        )\n      }\n      {\n        activeStep >= sections.length - 1 ? null : (\n          <Menu.Item onClick={() => {\n            setActiveStep(activeStep + 1)\n            setSidebarVisible(false)\n          }}>\n            <Icon name='arrow circle right' />\n          </Menu.Item>\n        )\n      }\n    </Menu.Menu>\n  </Menu>\n))\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { compose, branch, renderComponent } from 'recompose'\n\n// Now some graphql stuff\nimport { withStructuresList } from '../../../graphql/queries'\nimport Structures from '../misc/Structures'\nimport Topbar from '../Topbar'\n\nimport { Tab } from 'semantic-ui-react'\nimport StructureViewer from './StructureViewer'\nimport Placeholder from '../../misc/Placeholder'\nimport { withReduxHome } from '../../../redux/withRedux'\nimport AddButton from '../misc/AddButton'\nimport RefreshStockButton from '../misc/RefreshStockButton'\nimport TheFormComplex from './TheFormComplex'\nimport sections from '../sections'\n\nimport './Homepage.css'\n\nconst Homepage = ({ structures }) => (\n  <div className='appContainer'>\n    <Topbar />\n    <Tab className='tabContainer' panes={\n      [\n        {\n          menuItem: { key: 'users', icon: 'list', content: 'List' },\n          render: () => (\n            <Tab.Pane>\n              <Structures structures={structures} />\n              <AddButton />\n            </Tab.Pane>\n          )\n        },\n        {\n          menuItem: { key: 'map', icon: 'map', content: 'Map' },\n          render: () => (\n            <Tab.Pane>\n              <Placeholder minHeight={400} icon='map' title='Fancy Pants Map' />\n            </Tab.Pane>\n          )\n        },\n        {\n          menuItem: { key: 'settings', icon: 'settings', content: 'Settings' },\n          render: () => (\n            <Tab.Pane>\n              <RefreshStockButton />\n            </Tab.Pane>\n          )\n        }\n      ]\n    } />\n  </div>\n)\n\nHomepage.propTypes = {\n  structures: PropTypes.array\n}\n\nconst TheBDAForm = (props) => <TheFormComplex sections={sections} {...props} />\n\n/**\n * We really should be using React Router or something but for now we only have 3 states anyway:\n *    - List view (the one with tabs)\n *    - Form view (data entry)\n *    - View view (looking at the data being presented)\n */\nexport default compose(\n  withStructuresList,\n  withReduxHome,\n  branch(({ editing }) => editing && editing.guid && editing.edit, renderComponent(TheBDAForm)),\n  branch(({ editing }) => editing && editing.guid && !editing.edit, renderComponent(StructureViewer))\n)(Homepage)\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createStore, compose, applyMiddleware } from 'redux'\nimport persistState from 'redux-localstorage'\nimport reducers from './reducers'\nimport thunkMiddleware from 'redux-thunk'\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst store = createStore(\n  reducers,\n  composeEnhancer(\n    // {}, // default state (previously loaded from a JSON file)\n    persistState(), // keep our settings in localstorage\n    applyMiddleware(\n      thunkMiddleware // lets us dispatch() functions\n      // loggerMiddleware // neat middleware that logs actions\n    )\n  )\n)\n\nexport default store\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Homepage from './components/BDAMobile/views/Homepage'\nimport registerServiceWorker from './registerServiceWorker'\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\nimport config from './config'\n\nimport AWSAppSyncClient from 'aws-appsync'\nimport { Rehydrated } from 'aws-appsync-react'\nimport { ApolloProvider } from 'react-apollo'\n\n// Amplify\nimport Amplify, { Auth } from 'aws-amplify'\nimport { withAuthenticator } from 'aws-amplify-react'\n\n// Import some global CSS styles we use everywhere\nimport 'semantic-ui-css/semantic.css'\nimport 'react-vis/dist/style.css'\nimport './index.css'\n\n// Amplify init\nAmplify.configure(config.Auth)\n\n// AppSync client instantiation\nconst client = new AWSAppSyncClient({\n  url: config.GraphQLEndpoint,\n  region: config.Auth.region,\n  auth: {\n    type: 'AMAZON_COGNITO_USER_POOLS',\n    // Get the currently logged in users credential.\n    jwtToken: async () => (await Auth.currentSession()).getAccessToken().getJwtToken()\n  },\n  // Amplify uses Amazon IAM to authorize calls to Amazon S3. This provides the relevant IAM credentials.\n  complexObjectsCredentials: () => Auth.currentCredentials()\n})\n\nconst AppWithAuth = withAuthenticator(Homepage, false)\n\n// REDUX then apollo then auth\nReactDOM.render(\n  <Provider store={store}>\n    <ApolloProvider client={client}>\n      <Rehydrated>\n        <AppWithAuth />\n      </Rehydrated>\n    </ApolloProvider>\n  </Provider>,\n  document.getElementById('root'))\n\n// This is what makes a PWA\nregisterServiceWorker()\n\nfunction addToHomeScreen () {\n  const a2hsBtn = document.querySelector('.ad2hs-prompt') // hide our user interface that shows our A2HS button\n  a2hsBtn.style.display = 'none' // Show the prompt\n  deferredPrompt.prompt() // Wait for the user to respond to the prompt\n  deferredPrompt.userChoice\n    .then(choiceResult => {\n      if (choiceResult.outcome === 'accepted') console.log('User accepted the A2HS prompt')\n      else console.log('User dismissed the A2HS prompt')\n\n      deferredPrompt = null\n    })\n}\n\nfunction showAddToHomeScreen () {\n  const a2hsBtn = document.querySelector('.ad2hs-prompt')\n  a2hsBtn.style.display = 'block'\n  a2hsBtn.addEventListener('click', addToHomeScreen)\n}\n\nlet deferredPrompt\nwindow.addEventListener('beforeinstallprompt', e => {\n  // Prevent Chrome 67 and earlier from automatically showing the prompt\n  e.preventDefault()\n  // Stash the event so it can be triggered later.\n  deferredPrompt = e\n\n  showAddToHomeScreen()\n})\n\n// Detects if device is on iOS\nconst isIos = () => {\n  const userAgent = window.navigator.userAgent.toLowerCase()\n  return /iphone|ipad|ipod/.test(userAgent)\n}\n// Detects if device is in standalone mode\nconst isInStandaloneMode = () => ('standalone' in window.navigator) && (window.navigator.standalone)\n\n// Checks if should display install popup notification:\nif (isIos() && !isInStandaloneMode()) {\n  console.log('I AM on IOS and I am NOT in standalone mode.')\n  // this.setState({ showInstallMessage: true })\n}\n"],"sourceRoot":""}